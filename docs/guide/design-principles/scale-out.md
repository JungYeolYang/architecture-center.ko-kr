---
title: 규모 확장을 위한 디자인
description: 클라우드 응용 프로그램은 수평적 크기 조정에 맞게 설계되어야 합니다.
author: MikeWasson
ms.date: 08/30/2018
ms.openlocfilehash: 9b57f4e6a17eece4f5283436e104c286602bb54f
ms.sourcegitcommit: ae8a1de6f4af7a89a66a8339879843d945201f85
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/31/2018
ms.locfileid: "43325657"
---
# <a name="design-to-scale-out"></a>규모 확장을 위한 디자인

## <a name="design-your-application-so-that-it-can-scale-horizontally"></a>수평적으로 응용 프로그램 크기가 조정될 수 있도록 응용 프로그램 디자인

클라우드의 주요 장점은 탄력적인 크기 조정으로, 필요한 만큼 용량을 사용하고 부하 증가에 따라 확장하고 추가 용량이 필요하지 않을 때 축소할 수 있다는 것입니다. 수요에 따라 새 인스턴스를 추가하거나 제거하여 규모 확장이 가능하도록 응용 프로그램을 디자인합니다.

## <a name="recommendations"></a>권장 사항

**인스턴스 연결 유지 방지**. 연결 유지 또는 *세션 선호도*는 동일한 클라이언트의 요청이 항상 동일한 서버로 라우트되는 경우입니다. 연결 유지는 응용 프로그램의 확장 기능을 제한합니다. 예를 들어 높은 볼륨의 사용자 트래픽이 인스턴스에 분배되지 않습니다. 연결 유지의 원인에는 메모리에 세션 상태 저장, 암호화에 컴퓨터 특정 키 사용 등이 포함됩니다. 모든 인스턴스가 요청을 처리할 수 있도록 합니다. 

**병목 상태 식별**. 확장을 통해 모든 성능 문제를 해결할 수 있는 것은 아닙니다. 예를 들어 백 엔드 데이터베이스가 병목 상태인 경우 웹 서버를 더 추가해도 도움이 되지 않습니다. 문제 지점에 인스턴스를 더 추가하기 전에 시스템의 병목 상태를 먼저 식별하고 해결하세요. 일반적으로 시스템의 상태 저장 부분이 병목 상태의 주요 원인입니다. 

**확장성 요구 사항별로 워크로드 분해**.  응용 프로그램은 종종 크기 조정 요구 사항이 각기 다른 여러 워크로드로 구성되어 있습니다. 예를 들어 응용 프로그램에 공용 사이트와 별도의 관리 사이트가 있을 수 있습니다. 공용 사이트의 트래픽은 갑자기 급증할 수 있는 반면 관리 사이트의 부하는 더 적고 예측 가능합니다. 

**리소스를 많이 사용하는 태스크 오프로드.** 사용자 요청을 처리하는 프런트 엔드의 부하를 최소화하기 위해 가능한 경우 많은 CPU 또는 I/O 리소스가 필요한 태스크를 [백그라운드 작업][background-jobs]으로 이동해야 합니다.

**기본 제공 자동 크기 조정 기능 사용**. 기본적으로 자동 크기 조정을 지원하는 Azure 계산 서비스가 많습니다. 응용 프로그램의 워크로드가 예측 가능하고 정기적인 경우 일정에 따라 확장합니다. 예를 들어 업무 시간 중에 확장합니다. 워크로드가 예측 불가능한 경우 CPU 또는 요청 큐 길이와 같은 성능 지표를 사용하여 자동 크기 조정을 트리거합니다. 자동 크기 조정 모범 사례는 [자동 크기 조정][autoscaling]을 참조하세요.

**중요 워크로드에 대해 적극적인 자동 크기 조정 고려**. 중요 워크로드의 경우 수요를 미리 예측하려고 합니다. 부하가 높은 경우 새 인스턴스를 빠르게 추가하여 추가 트래픽을 처리한 다음 점차 다시 축소하는 것이 좋습니다.

**규모 감축 디자인**.  탄력적 크기 조정을 사용하는 경우 인스턴스가 제거되면 응용 프로그램의 크기가 축소됩니다. 응용 프로그램이 제거되는 인스턴스를 정상적으로 처리해야 합니다. 다음은 규모 감축을 처리하는 몇 가지 방법입니다.

- 종료 이벤트(사용 가능한 경우)를 수신 대기하고 정상적으로 종료합니다. 
- 서비스의 클라이언트/소비자가 일시적인 결함 처리 및 다시 시도를 지원해야 합니다. 
- 장기 실행 태스크의 경우 검사점 또는 [파이프 및 필터][pipes-filters-pattern] 패턴을 사용하여 작업을 분할하는 것이 좋습니다. 
- 처리 중에 인스턴스가 제거될 경우 다른 인스턴스가 작업을 선택할 수 있도록 큐에 작업 항목을 배치합니다. 


<!-- links -->

[autoscaling]: ../../best-practices/auto-scaling.md
[background-jobs]: ../../best-practices/background-jobs.md
[pipes-filters-pattern]: ../../patterns/pipes-and-filters.md
