---
title: 데이터 손상 또는 우발적 삭제로부터 복구
description: 데이터 손상 또는 실수로 인한 데이터 삭제로부터 데이터를 복구하는 방법을 이해하고 재해 복구에 대한 계획 뿐만 아니라 복원력 있고 항상 사용 가능한 내결함성 애플리케이션을 설계하는 방법에 대해 알아봅니다.
author: MikeWasson
ms.date: 11/11/2018
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: resiliency
ms.openlocfilehash: e28f26683c6d7dba196d4351ef3942830c9e7fc2
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54486321"
---
# <a name="recover-from-data-corruption-or-accidental-deletion"></a><span data-ttu-id="3fec3-103">데이터 손상 또는 우발적 삭제로부터 복구</span><span class="sxs-lookup"><span data-stu-id="3fec3-103">Recover from data corruption or accidental deletion</span></span>

<span data-ttu-id="3fec3-104">강력한 비즈니스 연속성 계획의 일부로 손상되거나 실수로 삭제된 데이터에 대한 계획을 수립합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-104">Part of a robust business continuity plan is having a plan if your data gets corrupted or accidentally deleted.</span></span> <span data-ttu-id="3fec3-105">다음은 데이터가 애플리케이션 오류 또는 운영자 오류로 인해 손상되거나 실수로 삭제된 후에 복구하는 방법에 대한 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-105">The following is information about recovery after data has been corrupted or accidentally deleted, due to application errors or operator error.</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="3fec3-106">Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="3fec3-106">Virtual Machines</span></span>

<span data-ttu-id="3fec3-107">Azure Virtual Machines(VM)를 애플리케이션 오류나 우발적 삭제로부터 보호하려면 [Azure Backup](/azure/backup/)을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-107">To protect Azure Virtual Machines (VMs) from application errors or accidental deletion, use [Azure Backup](/azure/backup/).</span></span> <span data-ttu-id="3fec3-108">Azure Backup을 통해 여러 VM 디스크에 일관성이 있는 백업을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-108">Azure Backup enables the creation of backups that are consistent across multiple VM disks.</span></span> <span data-ttu-id="3fec3-109">또한 지역 손실로부터 복구를 제공하도록 지역에 Backup 자격 증명 모음을 복제할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-109">In addition, the Backup Vault can be replicated across regions to provide recovery from region loss.</span></span>

## <a name="storage"></a><span data-ttu-id="3fec3-110">Storage</span><span class="sxs-lookup"><span data-stu-id="3fec3-110">Storage</span></span>

<span data-ttu-id="3fec3-111">Azure Storage는 자동화된 복제본을 통해 데이터 복구 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-111">Azure Storage provides data resiliency through automated replicas.</span></span> <span data-ttu-id="3fec3-112">그러나 Azure Storage는 우발적이든 악의적이든 애플리케이션 코드나 사용자가 데이터를 손상하는 것을 방지하지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-112">However, this does not prevent application code or users from corrupting data, whether accidentally or maliciously.</span></span> <span data-ttu-id="3fec3-113">애플리케이션이나 사용자 오류가 발생하는 경우 데이터의 정확성을 유지 관리하려면 감사 로그가 포함된 데이터를 보조 스토리지 위치에 복사하는 등 고급 기술이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-113">Maintaining data fidelity in the face of application or user error requires more advanced techniques, such as copying the data to a secondary storage location with an audit log.</span></span>

- <span data-ttu-id="3fec3-114">**블록 Blobs**.</span><span class="sxs-lookup"><span data-stu-id="3fec3-114">**Block blobs**.</span></span> <span data-ttu-id="3fec3-115">각 블록 Blob의 지정 시간 스냅숏을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-115">Create a point-in-time snapshot of each block blob.</span></span> <span data-ttu-id="3fec3-116">자세한 내용은 [Blob의 스냅숏 만들기](/rest/api/storageservices/creating-a-snapshot-of-a-blob)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3fec3-116">For more information, see [Creating a Snapshot of a Blob](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span></span> <span data-ttu-id="3fec3-117">각 스냅숏의 경우 마지막 스냅숏 상태 이후 Blob 내의 차이점을 저장하는 데 필요한 저장소에 대한 비용이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-117">For each snapshot, you are only charged for the storage required to store the differences within the blob since the last snapshot state.</span></span> <span data-ttu-id="3fec3-118">스냅숏은 기반하는 원본 Blob의 존재 여부에 종속되므로 다른 Blob 또는 다른 저장소 계정에 대한 복사 작업을 권장합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-118">The snapshots are dependent on the existence of the original blob they are based on, so a copy operation to another blob or even another storage account is advisable.</span></span> <span data-ttu-id="3fec3-119">이렇게 하면 실수로 삭제되지 않도록 백업 데이터를 적절하게 보호합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-119">This ensures that backup data is properly protected against accidental deletion.</span></span> <span data-ttu-id="3fec3-120">[AzCopy](/azure/storage/common/storage-use-azcopy) 또는 [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full)을 사용하여 다른 저장소 계정에 파일을 복사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-120">You can use [AzCopy](/azure/storage/common/storage-use-azcopy) or [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) to copy the blobs to another storage account.</span></span>

- <span data-ttu-id="3fec3-121">**파일**.</span><span class="sxs-lookup"><span data-stu-id="3fec3-121">**Files**.</span></span> <span data-ttu-id="3fec3-122">[스냅숏 공유](/azure/storage/files/storage-snapshots-files)를 사용하거나 AzCopy나 PowerShell을 사용해 파일을 다른 저장소 계정에 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-122">Use [share snapshots](/azure/storage/files/storage-snapshots-files), or use AzCopy or PowerShell to copy your files to another storage account.</span></span>

- <span data-ttu-id="3fec3-123">**테이블**.</span><span class="sxs-lookup"><span data-stu-id="3fec3-123">**Tables**.</span></span> <span data-ttu-id="3fec3-124">AzCopy를 사용하여 다른 지역에 있는 다른 저장소 계정으로 테이블 데이터를 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-124">Use AzCopy to export the table data into another storage account in another region.</span></span>

## <a name="database"></a><span data-ttu-id="3fec3-125">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="3fec3-125">Database</span></span>

### <a name="azure-sql-database"></a><span data-ttu-id="3fec3-126">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="3fec3-126">Azure SQL Database</span></span>

<span data-ttu-id="3fec3-127">SQL Database는 데이터 손실로부터 비즈니스를 보호하기 위해 매주 전체 데이터베이스 백업과 매시간 차등 데이터베이스 백업, 그리고 5~10분 간격으로 트랜잭션 로그 백업을 모두 자동으로 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-127">SQL Database automatically performs a combination of full database backups weekly, differential database backups hourly, and transaction log backups every five - ten minutes to protect your business from data loss.</span></span> <span data-ttu-id="3fec3-128">좀더 이른 시점으로 데이터베이스를 복원하려면 지정 시간 복원을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-128">Use point-in-time restore to restore a database to an earlier time.</span></span> <span data-ttu-id="3fec3-129">자세한 내용은 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3fec3-129">For more information, see:</span></span>

- [<span data-ttu-id="3fec3-130">자동화된 데이터베이스 백업을 사용하여 Azure SQL 데이터베이스 복구</span><span class="sxs-lookup"><span data-stu-id="3fec3-130">Recover an Azure SQL database using automated database backups</span></span>](/azure/sql-database/sql-database-recovery-using-backups)

- [<span data-ttu-id="3fec3-131">Azure SQL Database의 비즈니스 연속성 개요</span><span class="sxs-lookup"><span data-stu-id="3fec3-131">Overview of business continuity with Azure SQL Database</span></span>](/azure/sql-database/sql-database-business-continuity)

### <a name="sql-server-on-vms"></a><span data-ttu-id="3fec3-132">VM의 SQL Server</span><span class="sxs-lookup"><span data-stu-id="3fec3-132">SQL Server on VMs</span></span>

<span data-ttu-id="3fec3-133">Vm에서 실행되는 SQL Server의 경우 두 가지 옵션이 있습니다. 전통적인 백업과 로그 전달입니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-133">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="3fec3-134">전통적인 백업을 사용하면 지정 시점으로 복원할 수 있지만 복구 프로세스가 느립니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-134">Traditional backups enables you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="3fec3-135">전통적인 백업을 복원하려면 초기 전체 백업을 시작한 다음 이후에 수행된 모든 백업을 적용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-135">Restoring traditional backups requires starting with an initial full backup, and then applying any backups taken after that.</span></span> <span data-ttu-id="3fec3-136">두 번째 옵션은 로그 전달 세션을 구성하여 로그 백업의 복원을 지연하는 것입니다(예: 2시간별로).</span><span class="sxs-lookup"><span data-stu-id="3fec3-136">The second option is to configure a log shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="3fec3-137">주 서버에서 일어난 오류로부터 복구하도록 창을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-137">This provides a window to recover from errors made on the primary.</span></span>

### <a name="azure-cosmos-db"></a><span data-ttu-id="3fec3-138">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3fec3-138">Azure Cosmos DB</span></span>

<span data-ttu-id="3fec3-139">Azure Cosmos DB는 자동으로 정기적인 백업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-139">Azure Cosmos DB automatically takes backups at regular intervals.</span></span> <span data-ttu-id="3fec3-140">백업은 다른 저장소 서비스에 개별적으로 저장되고 이러한 백업은 지역 재해에 대한 복원을 위해 전역적으로 복제됩니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-140">Backups are stored separately in another storage service, and those backups are globally replicated for resiliency against regional disasters.</span></span> <span data-ttu-id="3fec3-141">데이터베이스 또는 컬렉션을 실수로 삭제한 경우 지원 티켓을 제출하거나 Azure 지원에 문의하여 마지막 자동 백업에서 데이터를 복원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-141">If you accidentally delete your database or collection, you can file a support ticket or call Azure support to restore the data from the last automatic backup.</span></span> <span data-ttu-id="3fec3-142">자세한 내용은 [Azure Cosmos DB로 자동 온라인 백업 및 복원](/azure/cosmos-db/online-backup-and-restore)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3fec3-142">For more information, see [Automatic online backup and restore with Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span></span>

### <a name="azure-database-for-mysql-azure-database-for-postgresql"></a><span data-ttu-id="3fec3-143">Azure Database for MySQL 및 Azure Database for PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="3fec3-143">Azure Database for MySQL, Azure Database for PostgreSQL</span></span>

<span data-ttu-id="3fec3-144">Azure Database for MySQL 또는 Azure Database for PostgreSQL을 사용할 경우 데이터베이스 서비스가 자동으로 5분마다 서비스 백업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-144">When using Azure Database for MySQL or Azure Database for PostgreSQL, the database service automatically makes a backup of the service every five minutes.</span></span> <span data-ttu-id="3fec3-145">이 자동 백업 기능을 사용하면 서버 및 모든 데이터베이스를 새 서버에 이전 특정 시점으로 복원할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3fec3-145">Using this automatic backup feature you may restore the server and all its databases into a new server to an earlier point-in-time.</span></span> <span data-ttu-id="3fec3-146">자세한 내용은 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3fec3-146">For more information, see:</span></span>

- [<span data-ttu-id="3fec3-147">Azure Portal을 사용하여 Azure Database for MySQL에서 서버를 백업 및 복원하는 방법</span><span class="sxs-lookup"><span data-stu-id="3fec3-147">How to back up and restore a server in Azure Database for MySQL by using the Azure portal</span></span>](/azure/mysql/howto-restore-server-portal)

- [<span data-ttu-id="3fec3-148">Azure Portal을 사용하여 Azure Database for PostgreSQL에서 서버를 백업 및 복원하는 방법</span><span class="sxs-lookup"><span data-stu-id="3fec3-148">How to backup and restore a server in Azure Database for PostgreSQL using the Azure portal</span></span>](/azure/postgresql/howto-restore-server-portal)
