---
title: Azure 지역의 손실로부터 복구
description: 재해 복구에 대한 계획 뿐만 아니라 복원력 있고 항상 사용 가능한 내결함성 애플리케이션을 이해하고 설계합니다.
author: adamglick
ms.date: 08/18/2016
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: resiliency
ms.openlocfilehash: b58e8fa1cc4955f90e7171e17aaa70ac0cfb7b71
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59640569"
---
# <a name="recover-from-a-region-wide-service-disruption"></a><span data-ttu-id="d281f-103">지역 전체의 서비스 중단 으로부터 복구</span><span class="sxs-lookup"><span data-stu-id="d281f-103">Recover from a region-wide service disruption</span></span>

<span data-ttu-id="d281f-104">Azure는 물리적 및 논리적으로 지역이라는 단위로 구분됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-104">Azure is divided physically and logically into units called regions.</span></span> <span data-ttu-id="d281f-105">지역은 가까운 위치에 있는 하나 이상의 데이터로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-105">A region consists of one or more datacenters in close proximity.</span></span>

<span data-ttu-id="d281f-106">드물지만 예를 들어 네트워크 오류로 인해 전체 지역의 시설에 액세스할 수 없게 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-106">Under rare circumstances, it is possible that facilities in an entire region can become inaccessible, for example due to network failures.</span></span> <span data-ttu-id="d281f-107">또는 자연 재해로 인해 시설이 완전히 손실될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-107">Or facilities can be lost entirely, for example due to a natural disaster.</span></span> <span data-ttu-id="d281f-108">이 섹션에서는 지역에 걸쳐 배포되는 애플리케이션을 만드는 Azure의 기능을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-108">This section explains the capabilities of Azure for creating applications that are distributed across regions.</span></span> <span data-ttu-id="d281f-109">이러한 배포는 한 지역의 오류가 다른 지역에 영향을 줄 수 있는 가능성을 최소화하는 데 도움을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-109">Such distribution helps to minimize the possibility that a failure in one region could affect other regions.</span></span>

## <a name="cloud-services"></a><span data-ttu-id="d281f-110">클라우드 서비스</span><span class="sxs-lookup"><span data-stu-id="d281f-110">Cloud services</span></span>

### <a name="resource-management"></a><span data-ttu-id="d281f-111">리소스 관리</span><span class="sxs-lookup"><span data-stu-id="d281f-111">Resource management</span></span>

<span data-ttu-id="d281f-112">각 대상 지역에 별도 클라우드 서비스를 만들고 각 클라우드 서비스에 배포 패키지를 게시하여 지역에 걸쳐 컴퓨팅 인스턴스를 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-112">You can distribute compute instances across regions by creating a separate cloud service in each target region, and then publishing the deployment package to each cloud service.</span></span> <span data-ttu-id="d281f-113">그러나 다른 지역의 클라우드 서비스에 트래픽을 분산시키면 애플리케이션 개발자 또는 트래픽 관리 서비스에서 구현해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-113">However, note that distributing traffic across cloud services in different regions must be implemented by the application developer or with a traffic management service.</span></span>

<span data-ttu-id="d281f-114">재해 복구의 사전에 배포할 예비 역할 인스턴스의 수를 결정하는 것은 용량 계획의 중요한 측면입니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-114">Determining the number of spare role instances to deploy in advance for disaster recovery is an important aspect of capacity planning.</span></span> <span data-ttu-id="d281f-115">대규모 보조 배포를 통해 필요할 때 용량을 사용할 수 있는지 확인할 수 있지만 사실상 비용은 두 배가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-115">Having a full-scale secondary deployment ensures that capacity is already available when needed; however, this effectively doubles the cost.</span></span> <span data-ttu-id="d281f-116">일반적인 패턴은 중요 서비스를 실행할 만큼의 크기인 소규모 보조 배포입니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-116">A common pattern is to have a small, secondary deployment, just large enough to run critical services.</span></span> <span data-ttu-id="d281f-117">소규모 보조 배포는 예약 용량에 대해 보조 환경의 구성을 테스트하는 좋은 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-117">This small secondary deployment is a good idea, both to reserve capacity, and for testing the configuration of the secondary environment.</span></span>

> [!NOTE]
> <span data-ttu-id="d281f-118">구독 할당량은 용량을 보장하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-118">The subscription quota is not a capacity guarantee.</span></span> <span data-ttu-id="d281f-119">할당량은 단순한 신용 한도입니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-119">The quota is simply a credit limit.</span></span> <span data-ttu-id="d281f-120">역할 수에 필요한 용량을 보장하려면 서비스 모델에서 정의되어야 하고 역할을 배포해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-120">To guarantee capacity, the required number of roles must be defined in the service model, and the roles must be deployed.</span></span>

### <a name="load-balancing"></a><span data-ttu-id="d281f-121">부하 분산</span><span class="sxs-lookup"><span data-stu-id="d281f-121">Load Balancing</span></span>

<span data-ttu-id="d281f-122">지역에 걸쳐 트래픽의 부하를 분산하려면 트래픽 관리 솔루션이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-122">To load balance traffic across regions requires a traffic management solution.</span></span> <span data-ttu-id="d281f-123">Azure는 [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/)를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-123">Azure provides [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span></span> <span data-ttu-id="d281f-124">유사한 트래픽 관리 기능을 제공하는 타사 서비스의 장점도 활용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-124">You can also take advantage of third-party services that provide similar traffic management capabilities.</span></span>

### <a name="strategies"></a><span data-ttu-id="d281f-125">전략</span><span class="sxs-lookup"><span data-stu-id="d281f-125">Strategies</span></span>

<span data-ttu-id="d281f-126">다양한 대체 전략은 지역에 걸쳐 분산된 계산을 구현하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-126">Many alternative strategies are available for implementing distributed compute across regions.</span></span> <span data-ttu-id="d281f-127">특정 비즈니스 요구 사항 및 애플리케이션의 상황에 맞게 조정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-127">These must be tailored to the specific business requirements and circumstances of the application.</span></span> <span data-ttu-id="d281f-128">높은 수준에서 방법을 다음과 같은 범주로 나눌 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-128">At a high level, the approaches can be divided into the following categories:</span></span>

- <span data-ttu-id="d281f-129">**재해 시 재배포**: 이 방식에서 애플리케이션은 재해 시에 처음부터 재배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-129">**Redeploy on disaster**: In this approach the application is redeployed from scratch at the time of disaster.</span></span> <span data-ttu-id="d281f-130">복구 시간이 보장되지 않아도 되는 중요하지 않은 애플리케이션에 적합합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-130">This is appropriate for non-critical applications that don’t require a guaranteed recovery time.</span></span>

- <span data-ttu-id="d281f-131">**웜 스페어(활성/수동)**: 보조 호스티드 서비스는 다른 지역에 만들어지고 역할은 최소 용량을 보장하도록 배포되지만 프로덕션 트래픽을 받지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-131">**Warm Spare (Active/Passive)**: A secondary hosted service is created in an alternate region, and roles are deployed to guarantee minimal capacity; however, the roles don’t receive production traffic.</span></span> <span data-ttu-id="d281f-132">이 방법은 지역에 걸쳐 트래픽을 분산하기 위해 설계되지 않은 애플리케이션에 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-132">This approach is useful for applications that have not been designed to distribute traffic across regions.</span></span>

- <span data-ttu-id="d281f-133">**핫 스페어(능동/능동)**: 애플리케이션이 여러 지역에서 프로덕션 부하를 수신하도록 설계되었습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-133">**Hot Spare (Active/Active)**: The application is designed to receive production load in multiple regions.</span></span> <span data-ttu-id="d281f-134">각 지역의 클라우드 서비스가 재해 복구 목적에 필요한 것보다 많은 용량에 구성될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-134">The cloud services in each region might be configured for higher capacity than required for disaster recovery purposes.</span></span> <span data-ttu-id="d281f-135">또한 클라우드 서비스는 재해와 장애 조치 시 필요한 만큼 규모를 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-135">Alternatively, the cloud services might scale out as necessary at the time of a disaster and failover.</span></span> <span data-ttu-id="d281f-136">이 방법은 애플리케이션 설계에 많은 투자가 필요하지만 상당한 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-136">This approach requires substantial investment in application design, but it has significant benefits.</span></span> <span data-ttu-id="d281f-137">즉, 짧은 복구 시간을 보장하고 모든 복구 위치를 연속으로 테스트하며 용량을 효율적으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-137">These include low and guaranteed recovery time, continuous testing of all recovery locations, and efficient usage of capacity.</span></span>

<span data-ttu-id="d281f-138">분산된 설계에 대한 자세한 내용은 이 문서에서 다루지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-138">A complete discussion of distributed design is outside the scope of this document.</span></span> <span data-ttu-id="d281f-139">자세한 내용은 [Azure 애플리케이션에 대한 재해 복구 및 고가용성](https://aka.ms/drtechguide)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d281f-139">For further information, see [Disaster Recovery and High Availability for Azure Applications](https://aka.ms/drtechguide).</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="d281f-140">가상 머신</span><span class="sxs-lookup"><span data-stu-id="d281f-140">Virtual machines</span></span>

<span data-ttu-id="d281f-141">IaaS(infrastructure as a service) VM(가상 머신)의 복구는 여러 가지 면에서 PaaS(platform as a service) 컴퓨팅 복구와 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-141">Recovery of infrastructure as a service (IaaS) virtual machines (VMs) is similar to platform as a service (PaaS) compute recovery in many respects.</span></span> <span data-ttu-id="d281f-142">그러나 IaaS VM은 VM 및 VM 디스크 모두로 구성된다는 중요한 차이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-142">There are important differences, however, due to the fact that an IaaS VM consists of both the VM and the VM disk.</span></span>

- <span data-ttu-id="d281f-143">**Azure Backup을 사용하여 지역 백업에 일관된 애플리케이션을 만듭니다**.</span><span class="sxs-lookup"><span data-stu-id="d281f-143">**Use Azure Backup to create cross region backups that are application consistent**.</span></span>
  <span data-ttu-id="d281f-144">[Azure Backup](https://azure.microsoft.com/services/backup/) 을 사용하면 고객이 여러 VM 디스크에 일관된 애플리케이션을 만들고 지역에 백업을 복제하도록 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-144">[Azure Backup](https://azure.microsoft.com/services/backup/) enables customers to create application consistent backups across multiple VM disks, and support replication of backups across regions.</span></span> <span data-ttu-id="d281f-145">생성 시 백업 자격 증명 모음을 지역에 복제하도록 선택하여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-145">You can do this by choosing to geo-replicate the backup vault at the time of creation.</span></span> <span data-ttu-id="d281f-146">백업 자격 증명 모음의 복제를 생성 시 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-146">Note that replication of the backup vault must be configured at the time of creation.</span></span> <span data-ttu-id="d281f-147">나중에 설정할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-147">It can't be set later.</span></span> <span data-ttu-id="d281f-148">지역이 손실된 경우 Microsoft는 고객이 사용할 수 있는 백업을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-148">If a region is lost, Microsoft will make the backups available to customers.</span></span> <span data-ttu-id="d281f-149">고객은 해당 구성된 복원 지점 중 하나를 복원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-149">Customers will be able to restore to any of their configured restore points.</span></span>

- <span data-ttu-id="d281f-150">**운영 체제 디스크에서 데이터 디스크를 분리합니다**.</span><span class="sxs-lookup"><span data-stu-id="d281f-150">**Separate the data disk from the operating system disk**.</span></span> <span data-ttu-id="d281f-151">IaaS VM의 경우 VM을 다시 만들지 않고 운영 체제 디스크를 변경할 수 없다는 점을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-151">An important consideration for IaaS VMs is that you cannot change the operating system disk without re-creating the VM.</span></span> <span data-ttu-id="d281f-152">복구 전략을 재해 후 재배포하는 경우 문제가 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-152">This is not a problem if your recovery strategy is to redeploy after disaster.</span></span> <span data-ttu-id="d281f-153">그러나 예약 용량에 대해 웜 스페어 방법을 사용하는 경우 문제가 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-153">However, it might be a problem if you are using the Warm Spare approach to reserve capacity.</span></span> <span data-ttu-id="d281f-154">이를 제대로 구현하려면 올바른 운영 체제 디스크를 주 및 보조 위치에 배치하고 별도 드라이브에 애플리케이션 데이터를 저장해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-154">To implement this properly, you must have the correct operating system disk deployed to both the primary and secondary locations, and the application data must be stored on a separate drive.</span></span> <span data-ttu-id="d281f-155">가능하면 두 위치에서 제공할 수 있는 표준 운영 체제 구성을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-155">If possible, use a standard operating system configuration that can be provided on both locations.</span></span> <span data-ttu-id="d281f-156">장애 조치 후에 보조 DC의 기존 IaaS VM에 데이터 드라이브를 연결해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-156">After a failover, you must then attach the data drive to your existing IaaS VMs in the secondary DC.</span></span> <span data-ttu-id="d281f-157">AzCopy를 사용하여 원격 사이트에 데이터 디스크의 스냅숏을 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-157">Use AzCopy to copy snapshots of the data disk(s) to a remote site.</span></span>

- <span data-ttu-id="d281f-158">**여러 VM 디스크의 지역 장애 조치 후에 발생할 수 있는 일관성 문제에 유의하세요**.</span><span class="sxs-lookup"><span data-stu-id="d281f-158">**Be aware of potential consistency issues after a geo-failover of multiple VM Disks**.</span></span> <span data-ttu-id="d281f-159">VM 디스크는 Azure Storage Blob으로 구현되고 지역에서 복제 특성이 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-159">VM Disks are implemented as Azure Storage blobs, and have the same geo-replication characteristic.</span></span> <span data-ttu-id="d281f-160">[Azure Backup](https://azure.microsoft.com/services/backup/) 을 사용하지 않는 한 지역에서 복제가 비동기적이며 독립적으로 복제되기 때문에 디스크에 걸쳐 일관성을 보장할 수 없습니다 .</span><span class="sxs-lookup"><span data-stu-id="d281f-160">Unless [Azure Backup](https://azure.microsoft.com/services/backup/) is used, there are no guarantees of consistency across disks, because geo-replication is asynchronous and replicates independently.</span></span> <span data-ttu-id="d281f-161">개별 VM 디스크는 지역 장애 조치 후에 일관된 충돌 상태이지만 디스크에 걸쳐 일관되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-161">Individual VM disks are guaranteed to be in a crash consistent state after a geo-failover, but not consistent across disks.</span></span> <span data-ttu-id="d281f-162">경우에 따라 문제가 발생할 수 있습니다(예: 디스크 스트라이프의 경우).</span><span class="sxs-lookup"><span data-stu-id="d281f-162">This could cause problems in some cases (for example, in the case of disk striping).</span></span>

## <a name="storage"></a><span data-ttu-id="d281f-163">Storage</span><span class="sxs-lookup"><span data-stu-id="d281f-163">Storage</span></span>

### <a name="recovery-by-using-geo-redundant-storage-of-blob-table-queue-and-vm-disk-storage"></a><span data-ttu-id="d281f-164">Blob, 테이블, 큐 및 VM 디스크 저장소의 지역 중복 저장소를 사용하여 복구</span><span class="sxs-lookup"><span data-stu-id="d281f-164">Recovery by using Geo-Redundant Storage of blob, table, queue and VM disk storage</span></span>

<span data-ttu-id="d281f-165">Azure에서 Blob, 테이블, 큐 및 VM 디스크는 기본적으로 모든 지역에서 복제됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-165">In Azure, blobs, tables, queues, and VM disks are all geo-replicated by default.</span></span> <span data-ttu-id="d281f-166">지역 중복 저장소(GRS)라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-166">This is referred to as Geo-Redundant Storage (GRS).</span></span> <span data-ttu-id="d281f-167">GRS는 특정 지역 내에서 수백 킬로미터 떨어져 있는 쌍을 이루는 데이터 센터에 저장소 데이터를 복제합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-167">GRS replicates storage data to a paired datacenter hundreds of miles apart within a specific geographic region.</span></span> <span data-ttu-id="d281f-168">GRS는 주요 데이터 센터에 재해가 발생한 경우 추가 내구성을 제공하도록 설계되었습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-168">GRS is designed to provide additional durability in case there is a major datacenter disaster.</span></span> <span data-ttu-id="d281f-169">Microsoft는 장애 조치가 발생하는 시점을 제어하고 장애 조치는 원래 주 위치가 적절한 시간에 복구할 수 없다고 여겨지는 경우 주요 재해로 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-169">Microsoft controls when failover occurs, and failover is limited to major disasters in which the original primary location is deemed unrecoverable in a reasonable amount of time.</span></span> <span data-ttu-id="d281f-170">일부 시나리오에서 몇 일이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-170">Under some scenarios, this can be several days.</span></span> <span data-ttu-id="d281f-171">동기화 간격이 Service Level Agreement(서비스 수준 약정)에 아직 포함되지 않지만 데이터는 일반적으로 몇 분 안에 복제됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-171">Data is typically replicated within a few minutes, although synchronization interval is not yet covered by a service level agreement.</span></span>

<span data-ttu-id="d281f-172">지역 장애 조치의 경우 계정이 액세스하는 방법은 변경되지 않습니다(URL 및 계정 키 변경되지 않음).</span><span class="sxs-lookup"><span data-stu-id="d281f-172">In the event of a geo-failover, there will be no change to how the account is accessed (the URL and account key will not change).</span></span> <span data-ttu-id="d281f-173">그러나 저장소 계정이 장애 조치 후에 다른 지역에 위치할 수 있습니다</span><span class="sxs-lookup"><span data-stu-id="d281f-173">The storage account will, however, be in a different region after failover.</span></span> <span data-ttu-id="d281f-174">해당 저장소 계정을 사용하여 지역 선호도를 필요로 하는 애플리케이션에 영향을 줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-174">This could impact applications that require regional affinity with their storage account.</span></span> <span data-ttu-id="d281f-175">동일한 데이터 센터에 있는 저장소 계정이 필요하지 않은 서비스 및 애플리케이션의 경우에도 데이터 센터 간 지연과 대역폭 요금은 트래픽을 장애 조치 지역에 일시적으로 이동하는 특별한 이유가 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-175">Even for services and applications that do not require a storage account in the same datacenter, the cross-datacenter latency and bandwidth charges might be compelling reasons to move traffic to the failover region temporarily.</span></span> <span data-ttu-id="d281f-176">전체 재해 복구 전략에 요인이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-176">This could factor into an overall disaster recovery strategy.</span></span>

<span data-ttu-id="d281f-177">GRS에서 제공하는 자동 장애 조치 외에도 Azure는 보조 저장소 위치에서 데이터의 복사본에 대한 읽기 액세스를 제공하는 서비스를 도입했습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-177">In addition to automatic failover provided by GRS, Azure has introduced a service that gives you read access to the copy of your data in the secondary storage location.</span></span> <span data-ttu-id="d281f-178">이를 RA-GRS(Read-Access Geo Redundant Storage)라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-178">This is called Read-Access Geo-Redundant Storage (RA-GRS).</span></span>

<span data-ttu-id="d281f-179">GRS 및 RA-GRS 스토리지에 대한 자세한 내용은 [Azure Storage 복제](/azure/storage/storage-redundancy/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d281f-179">For more information about both GRS and RA-GRS storage, see [Azure Storage replication](/azure/storage/storage-redundancy/).</span></span>

### <a name="geo-replication-region-mappings"></a><span data-ttu-id="d281f-180">지역에서 복제 지역 매핑</span><span class="sxs-lookup"><span data-stu-id="d281f-180">Geo-Replication region mappings</span></span>

<span data-ttu-id="d281f-181">저장소가 있는 지역 선호도를 필요로 하는 데이터의 다른 인스턴스를 배포하는 위치를 알기 위해 데이터를 지역으로 복제하는 위치를 알아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-181">It is important to know where your data is geo-replicated, in order to know where to deploy the other instances of your data that require regional affinity with your storage.</span></span> <span data-ttu-id="d281f-182">자세한 내용은 [Azure 쌍을 이루는 지역](/azure/best-practices-availability-paired-regions)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d281f-182">For more information see [Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

### <a name="geo-replication-pricing"></a><span data-ttu-id="d281f-183">지역에서 복제 가격 책정</span><span class="sxs-lookup"><span data-stu-id="d281f-183">Geo-Replication pricing</span></span>

<span data-ttu-id="d281f-184">지역에서 복제는 Azure Storage에 대한 현재 가격 책정에 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-184">Geo-replication is included in current pricing for Azure Storage.</span></span> <span data-ttu-id="d281f-185">이를 GRS(지역 중복 저장소)라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-185">This is called Geo-Redundant Storage (GRS).</span></span> <span data-ttu-id="d281f-186">데이터 지역에서 복제하려고 하지 않는 경우 사용자 계정에 대한 지역에서 복제를 해제할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-186">If you do not want your data geo-replicated you can disable geo-replication for your account.</span></span> <span data-ttu-id="d281f-187">이를 로컬 중복 저장소라고 하고 GRS에 비해 할인된 가격으로 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-187">This is called Locally Redundant Storage, and it is charged at a discounted price compared to GRS.</span></span>

### <a name="determining-if-a-geo-failover-has-occurred"></a><span data-ttu-id="d281f-188">지역 장애 조치가 발생했는지 여부를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-188">Determining if a geo-failover has occurred</span></span>

<span data-ttu-id="d281f-189">지역 장애 조치가 발생하는 경우 [Azure 서비스 상태 대시보드](https://azure.microsoft.com/status/)에 게시됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-189">If a geo-failover occurs, this will be posted to the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span> <span data-ttu-id="d281f-190">하지만 애플리케이션은 해당 저장소 계정에 대한 지리적 지역을 모니터링하여 이를 감지하는 자동화된 방법을 구현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-190">Applications can implement an automated means of detecting this, however, by monitoring the geo-region for their storage account.</span></span> <span data-ttu-id="d281f-191">해당 스토리지로 이동하는 지역에서 계산 리소스의 정품 인증과 같은 다른 복구 작업을 트리거하는 데 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-191">This can be used to trigger other recovery operations, such as activation of compute resources in the geo-region where their storage moved to.</span></span> <span data-ttu-id="d281f-192">[Storage 계정 속성 가져오기](https://msdn.microsoft.com/library/ee460802.aspx)를 사용하여 Service Management API에서 이를 쿼리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-192">You can perform a query for this from the service management API, by using [Get Storage Account Properties](https://msdn.microsoft.com/library/ee460802.aspx).</span></span> <span data-ttu-id="d281f-193">관련 속성은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-193">The relevant properties are:</span></span>

    <GeoPrimaryRegion>primary-region</GeoPrimaryRegion>
    <StatusOfPrimary>[Available|Unavailable]</StatusOfPrimary>
    <LastGeoFailoverTime>DateTime</LastGeoFailoverTime>
    <GeoSecondaryRegion>secondary-region</GeoSecondaryRegion>
    <StatusOfSecondary>[Available|Unavailable]</StatusOfSecondary>

### <a name="vm-disks-and-geo-failover"></a><span data-ttu-id="d281f-194">VM 디스크 및 지역 장애 조치</span><span class="sxs-lookup"><span data-stu-id="d281f-194">VM disks and geo-failover</span></span>

<span data-ttu-id="d281f-195">VM 디스크에 대한 섹션에서 설명한 대로 장애 조치 후에 VM 디스크에 걸쳐 데이터 일관성이 보장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-195">As discussed in the section on VM disks, there are no guarantees for data consistency across VM disks after a failover.</span></span> <span data-ttu-id="d281f-196">백업의 정확성을 유지하려면 Data Protection Manager와 같은 백업 제품은 애플리케이션 데이터를 백업하고 복원하는 데 사용되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-196">To ensure correctness of backups, a backup product such as Data Protection Manager should be used to back up and restore application data.</span></span>

## <a name="database"></a><span data-ttu-id="d281f-197">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="d281f-197">Database</span></span>

### <a name="sql-database"></a><span data-ttu-id="d281f-198">SQL Database</span><span class="sxs-lookup"><span data-stu-id="d281f-198">SQL Database</span></span>

<span data-ttu-id="d281f-199">Azure SQL Database는 두 가지 유형의 복구를 제공합니다. 지역 복원 및 활성 지역 복제입니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-199">Azure SQL Database provides two types of recovery: Geo-Restore and Active Geo-Replication.</span></span>

#### <a name="geo-restore"></a><span data-ttu-id="d281f-200">지역 복원</span><span class="sxs-lookup"><span data-stu-id="d281f-200">Geo-Restore</span></span>

<span data-ttu-id="d281f-201">[지리적 복원](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) 은 기본, 표준 및 프리미엄 데이터베이스에서도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-201">[Geo-Restore](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) is also available with Basic, Standard, and Premium databases.</span></span> <span data-ttu-id="d281f-202">이 기능은 데이터베이스가 호스팅되는 지역에 사고가 발생하여 데이터베이스를 사용할 수 없게 되었을 때를 위한 기본 복구 옵션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-202">It provides the default recovery option when the database is unavailable because of an incident in the region where your database is hosted.</span></span> <span data-ttu-id="d281f-203">특정 시점 복원과 유사하게, 지역 복원은 지역 중복 Azure 저장소의 데이터베이스 백업을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-203">Similar to Point-In-Time Restore, Geo-Restore relies on database backups in geo-redundant Azure storage.</span></span> <span data-ttu-id="d281f-204">지역에서 복제된 백업 복사본에서 복원하기 때문에 주 지역의 저장소 중단에 영향을 받지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-204">It restores from the geo-replicated backup copy, and therefore is resilient to the storage outages in the primary region.</span></span> <span data-ttu-id="d281f-205">자세한 내용은 [Azure SQL Database 복원 또는 보조 데이터베이스에 대한 장애 조치](/azure/sql-database/sql-database-disaster-recovery/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d281f-205">For more details, see [Restore an Azure SQL Database or failover to a secondary](/azure/sql-database/sql-database-disaster-recovery/).</span></span>

#### <a name="active-geo-replication"></a><span data-ttu-id="d281f-206">활성 지역 복제</span><span class="sxs-lookup"><span data-stu-id="d281f-206">Active Geo-Replication</span></span>

<span data-ttu-id="d281f-207">[활성 지역 복제](/azure/sql-database/sql-database-geo-replication-overview/) 는 모든 데이터베이스 계층에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-207">[Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) is available for all database tiers.</span></span> <span data-ttu-id="d281f-208">이 기능은 지역 복원이 제공하는 것보다 더 까다로운 복구 요구 사항이 있는 애플리케이션을 위해 설계되었습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-208">It’s designed for applications that have more aggressive recovery requirements than Geo-Restore can offer.</span></span> <span data-ttu-id="d281f-209">활성 지역 복제를 사용하여 서로 다른 지역의 서버에 최대 4개의 읽기 가능한 보조 복제본을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-209">Using Active Geo-Replication, you can create up to four readable secondaries on servers in different regions.</span></span> <span data-ttu-id="d281f-210">보조 복제본으로 장애 조치를 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-210">You can initiate failover to any of the secondaries.</span></span> <span data-ttu-id="d281f-211">또한 활성 지역 복제는 애플리케이션 업그레이드 또는 재배치 시나리오뿐 아니라 읽기 전용 작업에 대한 부하 분산을 지원하는 데에도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-211">In addition, Active Geo-Replication can be used to support the application upgrade or relocation scenarios, as well as load balancing for read-only workloads.</span></span> <span data-ttu-id="d281f-212">자세한 내용은 [지역에서 복제 구성](/azure/sql-database/sql-database-geo-replication-portal/) 및 [보조 데이터베이스로 장애 조치(failover)](/azure/sql-database/sql-database-geo-replication-failover-portal/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d281f-212">For details, see [configure Geo-Replication](/azure/sql-database/sql-database-geo-replication-portal/) and to [fail over to the secondary database](/azure/sql-database/sql-database-geo-replication-failover-portal/).</span></span> <span data-ttu-id="d281f-213">가동 중단 없는 애플리케이션 및 애플리케이션 업그레이드를 설계하고 구현하는 방법에 대한 자세한 내용은 [SQL Database에서 활성 지역 복제를 사용하여 클라우드 재해 복구를 위한 애플리케이션 설계](/azure/sql-database/sql-database-designing-cloud-solutions-for-disaster-recovery/) 및 [SQL Database에서 활성 지역 복제를 사용하여 클라우드 재해 복구를 위한 애플리케이션 설계](/azure/sql-database/sql-database-manage-application-rolling-upgrade/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d281f-213">Refer to [Design an application for cloud disaster recovery using Active Geo-Replication in SQL Database](/azure/sql-database/sql-database-designing-cloud-solutions-for-disaster-recovery/) and [Managing rolling upgrades of cloud applications using SQL Database Active Geo-Replication](/azure/sql-database/sql-database-manage-application-rolling-upgrade/) for details on how to design and implement applications and applications upgrade without downtime.</span></span>

### <a name="sql-server-on-virtual-machines"></a><span data-ttu-id="d281f-214">Virtual Machines의 SQL Server</span><span class="sxs-lookup"><span data-stu-id="d281f-214">SQL Server on Virtual Machines</span></span>

<span data-ttu-id="d281f-215">Azure Virtual Machines에서 실행 중에 SQL Server 2012(또는 이상)에 대한 복구 및 고가용성에 다양한 옵션을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-215">A variety of options are available for recovery and high availability for SQL Server 2012 (and later) running in Azure Virtual Machines.</span></span> <span data-ttu-id="d281f-216">자세한 내용은 [Azure Virtual Machines의 SQL Server에 대한 고가용성 및 재해 복구](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d281f-216">For more information, see [High availability and disaster recovery for SQL Server in Azure Virtual Machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/).</span></span>

## <a name="other-azure-platform-services"></a><span data-ttu-id="d281f-217">다른 Azure 플랫폼 서비스</span><span class="sxs-lookup"><span data-stu-id="d281f-217">Other Azure platform services</span></span>

<span data-ttu-id="d281f-218">여러 Azure 지역에서 클라우드 서비스를 실행하려고 시도할 경우 종속성 각각에 대한 영향을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-218">When attempting to run your cloud service in multiple Azure regions, you must consider the implications for each of your dependencies.</span></span> <span data-ttu-id="d281f-219">다음 섹션에서 서비스 관련 지침에서는 대체 Azure 데이터 센터에서 동일한 Azure 서비스를 사용해야 한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-219">In the following sections, the service-specific guidance assumes that you must use the same Azure service in an alternate Azure datacenter.</span></span> <span data-ttu-id="d281f-220">여기에서는 구성 및 데이터 복제 작업을 모두 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-220">This involves both configuration and data-replication tasks.</span></span>

> [!NOTE]
> <span data-ttu-id="d281f-221">경우에 따라 이러한 단계는 전체 데이터 센터 이벤트가 아닌 서비스 관련 중단을 완화시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-221">In some cases, these steps can help to mitigate a service-specific outage rather than an entire datacenter event.</span></span> <span data-ttu-id="d281f-222">애플리케이션 관점에서 서비스 관련 중단은 제한과 마찬가지일 수 있으며 대체 Azure 지역에 서비스를 일시적으로 마이그레이션해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-222">From the application perspective, a service-specific outage might be just as limiting and would require temporarily migrating the service to an alternate Azure region.</span></span>

### <a name="service-bus"></a><span data-ttu-id="d281f-223">Service Bus</span><span class="sxs-lookup"><span data-stu-id="d281f-223">Service Bus</span></span>

<span data-ttu-id="d281f-224">Azure Service Bus는 Azure 지역에 확장되지 않은 고유한 네임스페이스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-224">Azure Service Bus uses a unique namespace that does not span Azure regions.</span></span> <span data-ttu-id="d281f-225">따라서 첫 번째 요구 사항은 대체 지역에서 필요한 서비스 버스 네임스페이스를 설치하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-225">So the first requirement is to setup the necessary service bus namespaces in the alternate region.</span></span> <span data-ttu-id="d281f-226">그러나 대기 중인 메시지의 지속성에 대한 고려 사항도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-226">However, there are also considerations for the durability of the queued messages.</span></span> <span data-ttu-id="d281f-227">Azure 지역에 메시지를 복제하기 위한 몇 가지 전략이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-227">There are several strategies for replicating messages across Azure regions.</span></span> <span data-ttu-id="d281f-228">이러한 복제 전략 및 다른 재해 복구 전략에 대한 세부 정보는 [Service Bus 중단 및 재해로부터 애플리케이션을 격리하는 모범 사례](/azure/service-bus-messaging/service-bus-outages-disasters/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d281f-228">For the details on these replication strategies and other disaster recovery strategies, see [Best practices for insulating applications against Service Bus outages and disasters](/azure/service-bus-messaging/service-bus-outages-disasters/).</span></span>

### <a name="app-service"></a><span data-ttu-id="d281f-229">App Service</span><span class="sxs-lookup"><span data-stu-id="d281f-229">App Service</span></span>

<span data-ttu-id="d281f-230">Web Apps 또는 Mobile Apps와 같은 Azure App Service 애플리케이션을 보조 Azure 지역에 마이그레이션하려면 게시에 사용할 수 있는 웹 사이트의 백업이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-230">To migrate an Azure App Service application, such as Web Apps or Mobile Apps, to a secondary Azure region, you must have a backup of the website available for publishing.</span></span> <span data-ttu-id="d281f-231">가동 중단이 전체 Azure 데이터 센터를 포함하지 않은 경우 FTP를 사용하여 사이트 콘텐츠의 최근 백업을 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-231">If the outage does not involve the entire Azure datacenter, it might be possible to use FTP to download a recent backup of the site content.</span></span> <span data-ttu-id="d281f-232">그런 다음 이전에 예약 용량에 대해 이렇게 수행하지 않았으면 대체 지역에서 새 앱을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-232">Then create a new app in the alternate region, unless you have previously done this to reserve capacity.</span></span> <span data-ttu-id="d281f-233">새 지역에 사이트를 게시하고 필요한 구성을 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-233">Publish the site to the new region, and make any necessary configuration changes.</span></span> <span data-ttu-id="d281f-234">이러한 변경 내용은 데이터베이스 연결 문자열이나 기타 지역 관련 설정을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-234">These changes could include database connection strings or other region-specific settings.</span></span> <span data-ttu-id="d281f-235">필요한 경우 사이트의 SSL 인증서를 추가하고 DNS CNAME 레코드를 변경하여 재배포된 Azure 웹앱 URL에 사용자 지정 도메인 이름을 가리키도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-235">If necessary, add the site’s SSL certificate and change the DNS CNAME record so that the custom domain name points to the redeployed Azure Web App URL.</span></span>

### <a name="hdinsight"></a><span data-ttu-id="d281f-236">HDInsight</span><span class="sxs-lookup"><span data-stu-id="d281f-236">HDInsight</span></span>

<span data-ttu-id="d281f-237">HDInsight와 연결된 데이터는 기본적으로 Azure Blob Storage에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-237">The data associated with HDInsight is stored by default in Azure Blob Storage.</span></span> <span data-ttu-id="d281f-238">HDInsight은 MapReduce 작업을 처리하는 Hadoop 클러스터가 분석 중인 데이터를 포함하는 저장소 계정과 동일한 지역에 배치되도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-238">HDInsight requires that a Hadoop cluster processing MapReduce jobs must be co-located in the same region as the storage account that contains the data being analyzed.</span></span> <span data-ttu-id="d281f-239">Azure Storage에 사용할 수 있는 지역에서 복제 기능이 제공되면 어떤 이유로든 주 지역을 사용할 수 없는 경우 데이터를 복제하는 보조 지역의 데이터에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-239">Provided you use the geo-replication feature available to Azure Storage, you can access your data in the secondary region where the data was replicated if for some reason the primary region is no longer available.</span></span> <span data-ttu-id="d281f-240">데이터가 복제되고 처리를 계속하는 지역에 새로운 Hadoop 클러스터를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-240">You can create a new Hadoop cluster in the region where the data has been replicated and continue processing it.</span></span>

### <a name="sql-reporting"></a><span data-ttu-id="d281f-241">SQL Reporting</span><span class="sxs-lookup"><span data-stu-id="d281f-241">SQL Reporting</span></span>

<span data-ttu-id="d281f-242">이 경우에 Azure 지역의 손실로부터 복구하려면 다른 Azure 지역에서 여러 SQL Reporting 인스턴스가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-242">At this time, recovering from the loss of an Azure region requires multiple SQL Reporting instances in different Azure regions.</span></span> <span data-ttu-id="d281f-243">이러한 SQL Reporting 인스턴스는 동일한 데이터에 액세스해야 하고 해당 데이터는 재해가 발생 시 고유한 복구 계획이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-243">These SQL Reporting instances should access the same data, and that data should have its own recovery plan in the event of a disaster.</span></span> <span data-ttu-id="d281f-244">또한 각 보고서에 대한 RDL 파일의 외부 백업 복사본을 유지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-244">You can also maintain external backup copies of the RDL file for each report.</span></span>

### <a name="media-services"></a><span data-ttu-id="d281f-245">Media Services</span><span class="sxs-lookup"><span data-stu-id="d281f-245">Media Services</span></span>

<span data-ttu-id="d281f-246">Azure Media Services에는 인코딩 및 스트리밍을 위한 다른 복구 방법이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-246">Azure Media Services has a different recovery approach for encoding and streaming.</span></span> <span data-ttu-id="d281f-247">일반적으로 지역 가동 중단 중에 스트리밍은 더 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-247">Typically, streaming is more critical during a regional outage.</span></span> <span data-ttu-id="d281f-248">이를 대비하려면 두 개의 다른 Azure 지역에 Media Services 계정이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-248">To prepare for this, you should have a Media Services account in two different Azure regions.</span></span> <span data-ttu-id="d281f-249">인코딩된 콘텐츠는 두 지역에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-249">The encoded content should be located in both regions.</span></span> <span data-ttu-id="d281f-250">오류 발생 중에 대체 지역에 스트리밍 트래픽을 리디렉션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-250">During a failure, you can redirect the streaming traffic to the alternate region.</span></span> <span data-ttu-id="d281f-251">Encoding은 모든 Azure 지역에서 수행될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-251">Encoding can be performed in any Azure region.</span></span> <span data-ttu-id="d281f-252">예를 들어 라이브 이벤트 처리 중 인코딩이 시간에 민감한 경우 오류 발생 중에 대체 데이터 센터에 작업을 제출하도록 준비해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-252">If encoding is time-sensitive, for example during live event processing, you must be prepared to submit jobs to an alternate datacenter during failures.</span></span>

### <a name="virtual-network"></a><span data-ttu-id="d281f-253">가상 네트워크</span><span class="sxs-lookup"><span data-stu-id="d281f-253">Virtual network</span></span>

<span data-ttu-id="d281f-254">구성 파일은 대체 Azure 지역에서 가상 네트워크를 설정하는 가장 빠른 방법을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-254">Configuration files provide the quickest way to set up a virtual network in an alternate Azure region.</span></span> <span data-ttu-id="d281f-255">주 Azure 지역에서 가상 네트워크를 구성한 후에 네트워크 구성 파일에 현재 네트워크에 대한 [가상 네트워크 설정을 내보냅니다](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) .</span><span class="sxs-lookup"><span data-stu-id="d281f-255">After configuring the virtual network in the primary Azure region, [export the virtual network settings](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) for the current network to a network configuration file.</span></span> <span data-ttu-id="d281f-256">주 지역에서 가동 중단 시 저장된 구성 파일에서 [가상 네트워크를 복원합니다](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) .</span><span class="sxs-lookup"><span data-stu-id="d281f-256">In the event of an outage in the primary region, [restore the virtual network](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) from the stored configuration file.</span></span> <span data-ttu-id="d281f-257">다른 클라우드 서비스, 가상 머신 또는 프레미스 간 설정을 구성하여 새 가상 네트워크로 작동하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-257">Then configure other cloud services, virtual machines, or cross-premises settings to work with the new virtual network.</span></span>

## <a name="checklists-for-disaster-recovery"></a><span data-ttu-id="d281f-258">재해 복구를 위한 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-258">Checklists for disaster recovery</span></span>

## <a name="cloud-services-checklist"></a><span data-ttu-id="d281f-259">Cloud Services 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-259">Cloud Services checklist</span></span>

1. <span data-ttu-id="d281f-260">이 문서의 Cloud Services 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-260">Review the Cloud Services section of this document.</span></span>
2. <span data-ttu-id="d281f-261">지역 간 재해 복구 전략을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-261">Create a cross-region disaster recovery strategy.</span></span>
3. <span data-ttu-id="d281f-262">대체 지역에서 용량 예약의 장단점을 이해합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-262">Understand trade-offs in reserving capacity in alternate regions.</span></span>
4. <span data-ttu-id="d281f-263">Azure Traffic Manager와 같은 트래픽 라우팅 도구를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-263">Use traffic routing tools, such as Azure Traffic Manager.</span></span>

## <a name="virtual-machines-checklist"></a><span data-ttu-id="d281f-264">Virtual Machines 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-264">Virtual Machines checklist</span></span>

1. <span data-ttu-id="d281f-265">이 문서의 Virtual Machines 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-265">Review the Virtual Machines section of this document.</span></span>
2. <span data-ttu-id="d281f-266">[Azure Backup](https://azure.microsoft.com/services/backup/)을 사용하여 지역에 걸쳐 애플리케이션에 일관된 백업을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-266">Use [Azure Backup](https://azure.microsoft.com/services/backup/) to create application consistent backups across regions.</span></span>

## <a name="storage-checklist"></a><span data-ttu-id="d281f-267">저장소 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-267">Storage checklist</span></span>

1. <span data-ttu-id="d281f-268">이 문서의 저장소 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-268">Review the Storage section of this document.</span></span>
2. <span data-ttu-id="d281f-269">저장소 리소스의 지역에서 복제를 해제하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-269">Do not disable geo-replication of storage resources.</span></span>
3. <span data-ttu-id="d281f-270">장애 조치 시 지역에서 복제에 대한 대체 지역을 이해합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-270">Understand alternate region for geo-replication in the event of failover.</span></span>
4. <span data-ttu-id="d281f-271">사용자 제어 장애 조치 전략에 대한 사용자 지정 백업 전략을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-271">Create custom backup strategies for user-controlled failover strategies.</span></span>

## <a name="sql-database-checklist"></a><span data-ttu-id="d281f-272">SQL Database 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-272">SQL Database checklist</span></span>

1. <span data-ttu-id="d281f-273">이 문서의 SQL Database 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-273">Review the SQL Database section of this document.</span></span>
2. <span data-ttu-id="d281f-274">[지역 복원](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) 또는 [지역에서 복제](/azure/sql-database/sql-database-geo-replication-overview/)를 적절하게 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-274">Use [Geo-Restore](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) or [Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) as appropriate.</span></span>

## <a name="sql-server-on-virtual-machines-checklist"></a><span data-ttu-id="d281f-275">Virtual Machines 검사 목록의 SQL Server</span><span class="sxs-lookup"><span data-stu-id="d281f-275">SQL Server on Virtual Machines checklist</span></span>

1. <span data-ttu-id="d281f-276">이 문서의 Virtual Machines에서 SQL Server 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-276">Review the SQL Server on Virtual Machines section of this document.</span></span>
2. <span data-ttu-id="d281f-277">지역 간 AlwaysOn 가용성 그룹 또는 데이터베이스 미러링을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-277">Use cross-region AlwaysOn Availability Groups or database mirroring.</span></span>
3. <span data-ttu-id="d281f-278">또는 백업 사용 및 Blob Storage에 복원합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-278">Alternately use backup and restore to blob storage.</span></span>

## <a name="service-bus-checklist"></a><span data-ttu-id="d281f-279">Service Bus 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-279">Service Bus checklist</span></span>

1. <span data-ttu-id="d281f-280">이 문서의 Service Bus 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-280">Review the Service Bus section of this document.</span></span>
2. <span data-ttu-id="d281f-281">대체 지역에서 Service Bus 네임스페이스를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-281">Configure a Service Bus namespace in an alternate region.</span></span>
3. <span data-ttu-id="d281f-282">지역에 걸쳐 메시지에 대한 사용자 지정 복제 전략을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-282">Consider custom replication strategies for messages across regions.</span></span>

## <a name="app-service-checklist"></a><span data-ttu-id="d281f-283">App Service 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-283">App Service checklist</span></span>

1. <span data-ttu-id="d281f-284">이 문서의 App Service 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-284">Review the App Service section of this document.</span></span>
2. <span data-ttu-id="d281f-285">주 지역 외부에서 사이트 백업을 유지 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-285">Maintain site backups outside of the primary region.</span></span>
3. <span data-ttu-id="d281f-286">가동 중단이 부분적인 경우 FTP로 현재 사이트 검색을 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-286">If outage is partial, attempt to retrieve current site with FTP.</span></span>
4. <span data-ttu-id="d281f-287">대체 지역에서 기존 또는 새 사이트에 사이트를 배포할 계획입니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-287">Plan to deploy the site to new or existing site in an alternate region.</span></span>
5. <span data-ttu-id="d281f-288">애플리케이션 및 DNS CNAME 레코드 모두에 대한 구성을 변경할 계획입니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-288">Plan configuration changes for both application and DNS CNAME records.</span></span>

## <a name="hdinsight-checklist"></a><span data-ttu-id="d281f-289">HDInsight 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-289">HDInsight checklist</span></span>

1. <span data-ttu-id="d281f-290">이 문서의 HDInsight 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-290">Review the HDInsight section of this document.</span></span>
2. <span data-ttu-id="d281f-291">복제된 데이터를 사용하여 지역에서 새로운 Hadoop 클러스터를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-291">Create a new Hadoop cluster in the region with replicated data.</span></span>

## <a name="sql-reporting-checklist"></a><span data-ttu-id="d281f-292">SQL Reporting 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-292">SQL Reporting checklist</span></span>

1. <span data-ttu-id="d281f-293">이 문서의 SQL Reporting 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-293">Review the SQL Reporting section of this document.</span></span>
2. <span data-ttu-id="d281f-294">다른 지역에 대체 SQL Reporting 인스턴스를 유지 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-294">Maintain an alternate SQL Reporting instance in a different region.</span></span>
3. <span data-ttu-id="d281f-295">별도 계획을 유지 관리하여 해당 지역에 대상을 복제합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-295">Maintain a separate plan to replicate the target to that region.</span></span>

## <a name="media-services-checklist"></a><span data-ttu-id="d281f-296">Media Services 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-296">Media Services checklist</span></span>

1. <span data-ttu-id="d281f-297">이 문서의 Media Services 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-297">Review the Media Services section of this document.</span></span>
2. <span data-ttu-id="d281f-298">대체 지역에서 Media Services 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-298">Create a Media Services account in an alternate region.</span></span>
3. <span data-ttu-id="d281f-299">두 지역에서 동일한 콘텐츠를 인코딩하여 스트리밍 장애 조치를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-299">Encode the same content in both regions to support streaming failover.</span></span>
4. <span data-ttu-id="d281f-300">서비스 중단 시 대체 지역에 인코딩 작업을 제출합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-300">Submit encoding jobs to an alternate region in the event of a service disruption.</span></span>

## <a name="virtual-network-checklist"></a><span data-ttu-id="d281f-301">Virtual Network 검사 목록</span><span class="sxs-lookup"><span data-stu-id="d281f-301">Virtual Network checklist</span></span>

1. <span data-ttu-id="d281f-302">이 문서의 Virtual Network 섹션을 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-302">Review the Virtual Network section of this document.</span></span>
2. <span data-ttu-id="d281f-303">가상 네트워크 설정을 사용하여 다른 지역에 다시 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d281f-303">Use exported virtual network settings to re-create it in another region.</span></span>
