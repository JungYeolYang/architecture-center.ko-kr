---
title: Azure에서 웹 응용 프로그램 모니터링
description: Azure App Service에 호스트되는 웹 응용 프로그램을 모니터링합니다.
author: adamboeglin
ms.date: 09/12/2018
ms.openlocfilehash: ea57ba50f4e9390d5527587752c3bebad01b6139
ms.sourcegitcommit: 42797fffb82bbbf86f6deb1da52c61d456be631e
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/13/2018
ms.locfileid: "49313219"
---
# <a name="web-application-monitoring-on-azure"></a><span data-ttu-id="cbf62-103">Azure에서 웹 응용 프로그램 모니터링</span><span class="sxs-lookup"><span data-stu-id="cbf62-103">Web application monitoring on Azure</span></span>

<span data-ttu-id="cbf62-104">Azure의 PaaS(Platform as a Service) 제품은 고객 대신 계산 리소스를 관리하고, 어떤 면에서는 배포 모니터링 방법을 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-104">Platform as a service (PaaS) offerings on Azure manage compute resources for you and in some ways change how you monitor deployments.</span></span> <span data-ttu-id="cbf62-105">Azure는 여러 모니터링 서비스를 포함하고 있으며, 각 서비스는 특정 역할을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-105">Azure includes multiple monitoring services, each of which performs a specific role.</span></span> <span data-ttu-id="cbf62-106">이러한 서비스가 한 데 모여 응용 프로그램 및 응용 프로그램에서 사용하는 Azure 리소스로부터 원격 분석 데이터를 수집, 분석하고 그에 따라 조치를 취하는 포괄적인 솔루션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-106">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your applications and the Azure resources they use.</span></span>

<span data-ttu-id="cbf62-107">이 시나리오는 사용 가능한 모니터링 서비스를 해결하며 여러 데이터 원본에 사용될 데이터 흐름 모델에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-107">This scenario addresses the monitoring services you can use and describes a dataflow model for use with multiple data sources.</span></span> <span data-ttu-id="cbf62-108">모니터링과 관련하여, 여러 도구와 서비스가 Azure 배포에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-108">When it comes to monitoring, many tools and services work with Azure deployments.</span></span> <span data-ttu-id="cbf62-109">이 시나리오에서는 즉시 사용 가능한 서비스를 선택하겠습니다. 다른 이유는 없고, 쉽게 사용할 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-109">In this scenario, we choose readily available services precisely because they are easy to consume.</span></span> <span data-ttu-id="cbf62-110">다른 모니터링 옵션은 이 문서의 뒷부분에서 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-110">Other monitoring options are discussed later in this article.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="cbf62-111">관련 사용 사례</span><span class="sxs-lookup"><span data-stu-id="cbf62-111">Relevant use cases</span></span>

<span data-ttu-id="cbf62-112">이 시나리오에 적합한 사용 사례는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-112">Consider this scenario for the following use cases:</span></span>

- <span data-ttu-id="cbf62-113">원격 분석 데이터를 모니터링하는 웹 응용 프로그램 계측.</span><span class="sxs-lookup"><span data-stu-id="cbf62-113">Instrumenting a web application for monitoring telemetry.</span></span>
- <span data-ttu-id="cbf62-114">Azure에 배포된 응용 프로그램에 대한 프런트 엔드 및 백 엔드 원격 분석 수집.</span><span class="sxs-lookup"><span data-stu-id="cbf62-114">Collecting front-end and back-end telemetry for an application deployed on Azure.</span></span>
- <span data-ttu-id="cbf62-115">Azure의 서비스와 연결된 메트릭 및 할당량 모니터링.</span><span class="sxs-lookup"><span data-stu-id="cbf62-115">Monitoring metrics and quotas associated with services on Azure.</span></span>

## <a name="architecture"></a><span data-ttu-id="cbf62-116">아키텍처</span><span class="sxs-lookup"><span data-stu-id="cbf62-116">Architecture</span></span>

![앱 모니터 아키텍처 다이어그램][architecture]

<span data-ttu-id="cbf62-118">이 시나리오에서는 관리 Azure 환경을 사용하여 응용 프로그램 및 데이터 계층을 호스트합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-118">This scenario uses a managed Azure environment to host an application and data tier.</span></span> <span data-ttu-id="cbf62-119">시나리오를 통한 데이터 흐름은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-119">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="cbf62-120">사용자가 응용 프로그램과 상호 작용합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-120">A user interacts with the application.</span></span>
2. <span data-ttu-id="cbf62-121">브라우저 및 앱 서비스가 원격 분석 데이터를 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-121">The browser and app service emit telemetry.</span></span>
3. <span data-ttu-id="cbf62-122">Application Insights에서 응용 프로그램 상태, 성능 및 사용량 데이터를 수집하고 분석 합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-122">Application Insights collects and analyzes application health, performance, and usage data.</span></span>
4. <span data-ttu-id="cbf62-123">개발자와 관리자가 상태, 성능 및 사용량 정보를 검토할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-123">Developers and administrators can review health, performance, and usage information.</span></span>
5. <span data-ttu-id="cbf62-124">Azure SQL Database가 원격 분석 데이터를 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-124">Azure SQL Database emits telemetry.</span></span>
6. <span data-ttu-id="cbf62-125">Azure Monitor가 인프라 메트릭 및 할당량을 수집하여 분석합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-125">Azure Monitor collects and analyzes infrastructure metrics and quotas.</span></span>
7. <span data-ttu-id="cbf62-126">Log Analytics가 로그 및 메트릭을 수집하고 분석합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-126">Log Analytics collects and analyzes logs and metrics.</span></span>
8. <span data-ttu-id="cbf62-127">개발자와 관리자가 상태, 성능 및 사용량 정보를 검토할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-127">Developers and administrators can review health, performance, and usage information.</span></span>

### <a name="components"></a><span data-ttu-id="cbf62-128">구성 요소</span><span class="sxs-lookup"><span data-stu-id="cbf62-128">Components</span></span>

- <span data-ttu-id="cbf62-129">[Azure App Service](/azure/app-service/)는 관리 가상 머신에 앱을 빌드하고 호스트하는 PaaS 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-129">[Azure App Service](/azure/app-service/) is a PaaS service for building and hosting apps in managed virtual machines.</span></span> <span data-ttu-id="cbf62-130">앱이 실행되는 기본 계산 인프라가 자동으로 관리됩니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-130">The underlying compute infrastructures on which your apps run is managed for you.</span></span> <span data-ttu-id="cbf62-131">App Service는 리소스 사용 할당량 및 앱 메트릭 모니터링, 진단 정보 로깅, 메트릭 기반의 경고를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-131">App Service provides monitoring of resource usage quotas and app metrics, logging of diagnostic information, and alerts based on metrics.</span></span> <span data-ttu-id="cbf62-132">뿐만 아니라 Application Insights를 사용하여 다른 지역에서 응용 프로그램을 테스트하는 [가용성 테스트][availability-tests]를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-132">Even better, you can use Application Insights to create [availability tests][availability-tests] for testing your application from different regions.</span></span>
- <span data-ttu-id="cbf62-133">[Application Insights][application-insights]는 개발자를 위한 확장 가능한 APM(응용 프로그램 성능 관리) 서비스이며 여러 플랫폼을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-133">[Application Insights][application-insights] is an extensible Application Performance Management (APM) service for developers and supports multiple platforms.</span></span> <span data-ttu-id="cbf62-134">응용 프로그램을 모니터링하고, 성능 저하 및 오류 같은 응용 프로그램 이상을 감지하고, Azure Portal로 원격 분석 데이터를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-134">It monitors the application, detects application anomalies such as poor performance and failures, and sends telemetry to the Azure portal.</span></span> <span data-ttu-id="cbf62-135">Application Insights를 로깅, 분산된 추적 및 사용자 지정 응용 프로그램 메트릭에도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-135">Application Insights can also be used for logging, distributed tracing, and custom application metrics.</span></span>
- <span data-ttu-id="cbf62-136">[Azure Monitor][azure-monitor]는 대부분의 Azure 서비스에 대한 기본 수준의 인프라 [메트릭 및 로그][metrics]를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-136">[Azure Monitor][azure-monitor] provides base-level infrastructure [metrics and logs][metrics] for most services in Azure.</span></span> <span data-ttu-id="cbf62-137">Azure Portal에서 차트 작성, REST API를 통한 액세스, PowerShell 또는 CLI를 사용한 쿼리 등 여러 가지 방법으로 메트릭과 상호 작용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-137">You can interact with the metrics in several ways, including charting them in Azure portal, accessing them through the REST API, or querying them using PowerShell or CLI.</span></span> <span data-ttu-id="cbf62-138">Azure Monitor는 [Log Analytics 및 기타 서비스]에 데이터를 직접 제공할 수도 있으며, 서비스에서 데이터를 쿼리하고 온-프레미스 또는 클라우드의 다른 소스에서 수집된 데이터와 결합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-138">Azure Monitor also offers its data directly into [Log Analytics and other services], where you can query and combine it with data from other sources on premises or in the cloud.</span></span>
- <span data-ttu-id="cbf62-139">[Log Analytics][log-analytics]는 Application Insights에서 수집한 사용량 및 성능 데이터와 앱을 지원하는 Azure 리소스의 구성 및 성능 데이터 간에 상관 관계를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-139">[Log Analytics][log-analytics] helps correlate the usage and performance data collected by Application Insights with configuration and performance data across the Azure resources that support the app.</span></span> <span data-ttu-id="cbf62-140">이 시나리오에서는 [Azure Log Analytics 에이전트][Azure Log Analytics agent]를 사용하여 SQL Server 감사 로그를 Log Analytics로 푸시합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-140">This scenario uses the [Azure Log Analytics agent][Azure Log Analytics agent] to push SQL Server audit logs into Log Analytics.</span></span> <span data-ttu-id="cbf62-141">Azure Portal의 Log Analytics 블레이드에서 데이터를 쿼리하고 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-141">You can write queries and view data in the Log Analytics blade of the Azure portal.</span></span>

## <a name="considerations"></a><span data-ttu-id="cbf62-142">고려 사항</span><span class="sxs-lookup"><span data-stu-id="cbf62-142">Considerations</span></span>

<span data-ttu-id="cbf62-143">가장 좋은 방법은 개발 시 [Application Insights SDK][Application Insights SDKs]를 사용하여 코드에 Application Insights를 추가하고 응용 프로그램별로 사용자 지정하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-143">A best practice is to add Application Insights to your code at development using the [Application Insights SDKs][Application Insights SDKs], and customize per application.</span></span> <span data-ttu-id="cbf62-144">이러한 오픈 소스 SDK는 대부분의 응용 프로그램 프레임워크에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-144">These open source SDKs are available for most application frameworks.</span></span> <span data-ttu-id="cbf62-145">수집한 데이터를 강화하고 제어하려면 테스트 및 프로덕션 배포에 사용할 SDK를 개발 프로세스에 통합합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-145">To enrich and control the data you collect, incorporate the use of the SDKs both for testing and production deployments into your development process.</span></span> <span data-ttu-id="cbf62-146">주 요구 사항은 앱이 인터넷 주소를 사용하여 호스트된 Application Insights 수집 엔드포인트를 직접적으로 또는 간접적으로 살펴볼 수 있게 만들어주는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-146">The main requirement is for the app to have a direct or indirect line of sight to the Applications Insights ingestion endpoint hosted with an Internet-facing address.</span></span> <span data-ttu-id="cbf62-147">그 후 원격 분석 데이터를 추가하거나 기존 원격 분석 컬렉션을 보강할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-147">You can then add telemetry or enrich an existing telemetry collection.</span></span>

<span data-ttu-id="cbf62-148">쉽게 시작하는 또 다른 방법은 런타임 모니터링입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-148">Runtime monitoring is another easy way to get started.</span></span> <span data-ttu-id="cbf62-149">수집된 원격 분석 데이터는 구성 파일을 통해 제어해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-149">The telemetry that is collected must be controlled through configuration files.</span></span> <span data-ttu-id="cbf62-150">예를 들어 [Application Insights 상태 모니터][Application Insights Status Monitor] 같은 도구가 올바른 폴더에 SDK를 배포하고 모니터링을 시작하는 올바른 구성을 추가할 수 있게 해주는 런타임 메서드를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-150">For example, you can include runtime methods that enable tools such as [Application Insights Status Monitor][Application Insights Status Monitor] to deploy the SDKs into the correct folder and add the right configurations to begin monitoring.</span></span>

<span data-ttu-id="cbf62-151">Application Insights와 마찬가지로, Log Analytics는 [여러 원본의 데이터를 분석][analyzing data across sources]하고, 복합 쿼리를 만들고, 지정된 조건에 대한 [사전 경고를 보내는][sending proactive alerts] 도구를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-151">Like Application Insights, Log Analytics provides tools for [analyzing data across sources][analyzing data across sources], creating complex queries, and [sending proactive alerts][sending proactive alerts] on specified conditions.</span></span> <span data-ttu-id="cbf62-152">[Azure Portal][the Azure portal]에서도 원격 분석 데이터를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-152">You can also view telemetry in [the Azure portal][the Azure portal].</span></span> <span data-ttu-id="cbf62-153">Log Analytics는 [Azure Monitor][Azure Monitor] 같은 기존 모니터링 서비스에 가치를 추가하며 온-프레미스 환경도 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-153">Log Analytics adds value to existing monitoring services such as [Azure Monitor][Azure Monitor] and can also monitor on-premises environments.</span></span>

<span data-ttu-id="cbf62-154">Application Insights와 Log Analytics [Azure Log Analytics 쿼리 언어][Azure Log Analytics Query Language]를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-154">Both Application Insights and Log Analytics use [Azure Log Analytics Query Language][Azure Log Analytics Query Language].</span></span> <span data-ttu-id="cbf62-155">[리소스 간 쿼리](https://azure.microsoft.com/blog/query-across-resources)를 사용하여 Application Insights 및 Log Analytics에서 수집한 원격 분석 데이터를 단일 쿼리로 분석할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-155">You can also use [cross-resource queries](https://azure.microsoft.com/blog/query-across-resources) to analyze the telemetry gathered by Application Insights and Log Analytics in a single query.</span></span>

<span data-ttu-id="cbf62-156">Azure Monitor, Application Insights, Log Analytics는 모두 [경고](/azure/monitoring-and-diagnostics/monitoring-overview-alerts)를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-156">Azure Monitor, Application Insights, and Log Analytics all send [alerts](/azure/monitoring-and-diagnostics/monitoring-overview-alerts).</span></span> <span data-ttu-id="cbf62-157">예를 들어 Azure Monitor는 CPU 사용률 같은 플랫폼 수준 메트릭에 대한 경고를 보내고, Application Insights는 서버 응답 시간 같은 응용 프로그램 수준 메트릭에 대해 경고합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-157">For example, Azure Monitor alerts on platform-level metrics such as CPU utilization, while Application Insights alerts on application-level metrics such as server response time.</span></span> <span data-ttu-id="cbf62-158">Azure Monitor는 Azure 활동 로그의 새 이벤트에 대해 경고하고, Log Analytics는 사용하도록 구성된 서비스의 메트릭 또는 이벤트 데이터에 대한 경고를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-158">Azure Monitor alerts on new events in the Azure Activity Log, while Log Analytics can issue alerts about metrics or event data for the services configured to use it.</span></span> <span data-ttu-id="cbf62-159">[Azure Monitor의 통합 경고](/azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts)는 다른 분류를 사용하는 Azure의 새로운 통합 경고 환경입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-159">[Unified alerts in Azure Monitor](/azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts) is a new, unified alerting experience in Azure that uses a different taxonomy.</span></span>

### <a name="alternatives"></a><span data-ttu-id="cbf62-160">대안</span><span class="sxs-lookup"><span data-stu-id="cbf62-160">Alternatives</span></span>

<span data-ttu-id="cbf62-161">이 문서에서는 편리하게 사용할 수 있는 모니터링 옵션과 인기 있는 기능에 대해 설명하지만, 자체 로깅 메커니즘을 만드는 옵션을 포함하여 다양한 선택지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-161">This article describes conveniently available monitoring options with popular features, but you have many choices, including the option to create your own logging mechanisms.</span></span> <span data-ttu-id="cbf62-162">모범 사례는 솔루션에서 계층을 빌드할 때 모니터링 서비스를 추가하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-162">A best practice is to add monitoring services as you build out tiers in a solution.</span></span> <span data-ttu-id="cbf62-163">다음은 몇 가지 가능한 확장 및 대안입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-163">Here are some possible extensions and alternatives:</span></span>

- <span data-ttu-id="cbf62-164">[Azure Monitor Data Source For Grafana][Azure Monitor Data Source For Grafana]를 사용하여 Azure Monitor 및 Application Insights 메트릭을 Grafana에 통합합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-164">Consolidate Azure Monitor and Application Insights metrics in Grafana using the [Azure Monitor Data Source For Grafana][Azure Monitor Data Source For Grafana].</span></span>
- <span data-ttu-id="cbf62-165">[Data Dog][data-dog]은 Azure Monitor용 커넥터를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-165">[Data Dog][data-dog] features a connector for Azure Monitor</span></span>
- <span data-ttu-id="cbf62-166">[Azure Automation][Azure Automation]을 사용하여 모니터링 기능을 자동화합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-166">Automate monitoring functions using [Azure Automation][Azure Automation].</span></span>
- <span data-ttu-id="cbf62-167">[ITSM 솔루션][ITSM solutions]과의 통신을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-167">Add communication with [ITSM solutions][ITSM solutions].</span></span>
- <span data-ttu-id="cbf62-168">[관리 솔루션][management solution]을 사용하여 Log Analytics를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-168">Extend Log Analytics with a [management solution][management solution].</span></span>

### <a name="scalability-and-availability"></a><span data-ttu-id="cbf62-169">확장성 및 가용성</span><span class="sxs-lookup"><span data-stu-id="cbf62-169">Scalability and availability</span></span>

<span data-ttu-id="cbf62-170">이 시나리오는 큰 부분을 모니터링하기 위한 PaaS 솔루션에 중점을 둡니다. 왜냐하면 이러한 솔루션은 간편하게 고객 대신 가용성 및 확장성을 처리하고 SLA(서비스 수준 계약)를 통해 지원되기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-170">This scenario focuses on PaaS solutions for monitoring in large part because they conveniently handle availability and scalability for you and are backed by service-level agreements (SLAs).</span></span> <span data-ttu-id="cbf62-171">예를 들어 App Services는 가용성에 대한 [SLA][SLA]를 보장합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-171">For example, App Services provides a guaranteed [SLA][SLA] for its availability.</span></span>

<span data-ttu-id="cbf62-172">Application Insights는 초당 처리할 수 있는 요청 수의 [한도][app-insights-limits]가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-172">Application Insights has [limits][app-insights-limits] on how many requests can be processed per second.</span></span> <span data-ttu-id="cbf62-173">요청 한도를 초과하면 메시지 제한이 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-173">If you exceed the request limit, you may experience message throttling.</span></span> <span data-ttu-id="cbf62-174">이를 방지하려면 데이터 속도를 줄이는 [필터링][message-filtering] 또는 [샘플링][message-sampling]을 구현하세요.</span><span class="sxs-lookup"><span data-stu-id="cbf62-174">To prevent this, implement [filtering][message-filtering] or [sampling][message-sampling] to reduce the data rate</span></span>

<span data-ttu-id="cbf62-175">그러나 실행하는 앱의 고가용성에 대한 고려 사항은 개발자의 책임입니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-175">High availability considerations for the app you run, however, are the developer's responsibility.</span></span> <span data-ttu-id="cbf62-176">예를 들어 확장에 대한 정보는 기본 웹 응용 프로그램 참조 아키텍처의 [확장성 고려 사항](#scalability-considerations) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="cbf62-176">For information about scale, for example, see the [Scalability considerations](#scalability-considerations) section in the basic web application reference architecture.</span></span> <span data-ttu-id="cbf62-177">앱을 배포한 후에는 Application Insights를 사용하여 [앱의 가용성을 모니터링][monitor its availability]하는 테스트를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-177">After an app is deployed, you can set up tests to [monitor its availability][monitor its availability] using Application Insights.</span></span>

### <a name="security"></a><span data-ttu-id="cbf62-178">보안</span><span class="sxs-lookup"><span data-stu-id="cbf62-178">Security</span></span>

<span data-ttu-id="cbf62-179">중요한 정보 및 규정 준수 요구 사항은 데이터 수집, 보존 및 저장소에 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-179">Sensitive information and compliance requirements affect data collection, retention, and storage.</span></span> <span data-ttu-id="cbf62-180">[Application Insights][application-insights] 및 [Log Analytics][log-analytics]의 원격 분석 데이터 처리 방법을 알아보세요.</span><span class="sxs-lookup"><span data-stu-id="cbf62-180">Learn more about how [Application Insights][application-insights] and [Log Analytics][log-analytics] handle telemetry.</span></span>

<span data-ttu-id="cbf62-181">다음 보안 고려 사항을 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-181">The following security considerations may also apply:</span></span>

- <span data-ttu-id="cbf62-182">개발자가 자체 데이터를 수집하거나 기존 원격 분석 데이터를 보완하는 것이 허용되는 경우 개인 정보 처리에 대한 계획을 세웁니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-182">Develop a plan to handle personal information if developers are allowed to collect their own data or enrich existing telemetry.</span></span>
- <span data-ttu-id="cbf62-183">데이터 보존을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-183">Consider data retention.</span></span> <span data-ttu-id="cbf62-184">예를 들어 Application Insights는 원격 분석 데이터를 90일 동안 보존합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-184">For example, Application Insights retains telemetry data for 90 days.</span></span> <span data-ttu-id="cbf62-185">Microsoft Power BI, 연속 내보내기 또는 REST API를 사용하여 액세스하려는 데이터를 더 오래 보관합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-185">Archive data you want access to for longer periods using Microsoft Power BI, Continuous Export, or the REST API.</span></span> <span data-ttu-id="cbf62-186">저장소 요율이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-186">Storage rates apply.</span></span>
- <span data-ttu-id="cbf62-187">Azure 리소스에 대한 액세스를 제한하여 데이터 액세스 권한과 특정 응용 프로그램에서 원격 분석 데이터를 볼 수 있는 사람을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-187">Limit access to Azure resources to control access to data and who can view telemetry from a specific application.</span></span> <span data-ttu-id="cbf62-188">모니터링 원격 분석 데이터에 대한 액세스를 잠그려면 [Application Insights에서 리소스, 역할 및 액세스 제어][Resources, roles, and access control in Application Insights]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="cbf62-188">To help lock down access to monitoring telemetry, see [Resources, roles, and access control in Application Insights][Resources, roles, and access control in Application Insights].</span></span>
- <span data-ttu-id="cbf62-189">사용자가 버전을 추가하지 못하도록 응용 프로그램 코드에서 읽기/쓰기 액세스를 제어하거나 응용 프로그램에서 데이터 수집을 제한하는 태그 마커를 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-189">Consider whether to control read/write access in application code to prevent users from adding version or tag markers that limit data ingestion from the application.</span></span> <span data-ttu-id="cbf62-190">Application Insights를 사용하면 리소스로 전송된 개별 데이터 항목을 제어하지 않기 때문에, 어떤 데이터에 액세스할 수 있는 사용자가 개별 리소스의 모든 데이터에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-190">With Application Insights, there is no control over individual data items once they are sent to a resource, so if a user has access to any data, they have access to all data in an individual resource.</span></span>
- <span data-ttu-id="cbf62-191">필요한 경우 Azure 리소스에 대한 정책 또는 비용 컨트롤을 강제 적용하는 [거버넌스](/azure/security/governance-in-azure) 메커니즘을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-191">Add [governance](/azure/security/governance-in-azure) mechanisms to enforce policy or cost controls over Azure resources if needed.</span></span> <span data-ttu-id="cbf62-192">예를 들어 정책 및 역할 기반 액세스 같은 보안 관련 모니터링을 위한 Log Analytics를 사용하거나 정책 정의를 만들고, 할당하고, 관리하는 [Azure Policy](/azure/azure-policy/azure-policy-introduction)를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-192">For example, use Log Analytics for security-related monitoring such as policies and role based access control, or use [Azure Policy](/azure/azure-policy/azure-policy-introduction) to create, assign and, manage policy definitions.</span></span>
- <span data-ttu-id="cbf62-193">Azure 리소스의 잠재적인 보안 문제를 모니터링하고 중앙에서 보안 상태를 살펴보려면 [Azure Security Center](/azure/security-center/security-center-intro) 사용을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-193">To monitor potential security issues and get a central view of the security state of your Azure resources, consider using [Azure Security Center](/azure/security-center/security-center-intro).</span></span>

## <a name="pricing"></a><span data-ttu-id="cbf62-194">가격</span><span class="sxs-lookup"><span data-stu-id="cbf62-194">Pricing</span></span>

<span data-ttu-id="cbf62-195">모니터링 요금이 가파르게 증가할 수 있으므로 선불 가격 책정을 고려하고, 모니터링 대상을 이해하고, 각 서비스와 연결된 요금을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-195">Monitoring charges can add up quickly, so consider pricing up front, understand what you are monitoring, and check the associated fees for each service.</span></span> <span data-ttu-id="cbf62-196">Azure Monitor는 비용 없이 [기본 메트릭][basic metrics]을 제공하며, [Application Insights][application-insights-pricing] 및 [Log Analytics][log-analytics]의 모니터링 비용은 수집되는 데이터의 양과 실행하는 테스트 수에 따라 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-196">Azure Monitor provides [basic metrics][basic metrics] at no cost, while monitoring costs for [Application Insights][application-insights-pricing] and [Log Analytics][log-analytics] are based on the amount of data ingested and the number of tests you run.</span></span>

<span data-ttu-id="cbf62-197">[가격 책정 계산기][pricing]를 사용하여 비용을 예측해 보면 시작하는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-197">To help you get started, use the [pricing calculator][pricing] to estimate costs.</span></span> <span data-ttu-id="cbf62-198">특정 사용 사례의 가격 책정이 어떻게 변하는지 확인하려면 예상 배포에 따라 다양한 옵션을 변경하세요.</span><span class="sxs-lookup"><span data-stu-id="cbf62-198">To see how the pricing would change for your particular use case, change the various options to match your expected deployment.</span></span>

<span data-ttu-id="cbf62-199">Application Insights의 원격 분석 데이터는 디버깅 동안 그리고 개발자가 앱을 게시한 Azure Portal로 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-199">Telemetry from Application Insights is sent to the Azure portal during debugging and after you have published your app.</span></span> <span data-ttu-id="cbf62-200">비용 없이 테스트 용도로 사용할 수 있도록 제한된 양의 원격 분석 데이터를 계측합니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-200">For testing purposes and to avoid charges, a limited volume of telemetry is instrumented.</span></span> <span data-ttu-id="cbf62-201">표시기를 더 추가하려면 원격 분석 제한을 높이면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-201">To add more indicators, you can raise the telemetry limit.</span></span> <span data-ttu-id="cbf62-202">세밀하게 제어하는 방법은 [Application Insights의 샘플링][Sampling in Application Insights]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="cbf62-202">For more granular control, see [Sampling in Application Insights][Sampling in Application Insights].</span></span>

<span data-ttu-id="cbf62-203">배포 후에는 성능 지표의 [라이브 메트릭 스트림][Live Metrics Stream]을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-203">After deployment, you can watch a [Live Metrics Stream][Live Metrics Stream] of performance indicators.</span></span> <span data-ttu-id="cbf62-204">이 데이터는 저장되지 않습니다. 즉, 실시간 메트릭을 보는 것입니다. 하지만 원격 분석 데이터를 수집해 두었다가 나중에 분석할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-204">This data is not stored---you are viewing real-time metrics---but the telemetry can be collected and analyzed later.</span></span> <span data-ttu-id="cbf62-205">라이브 스트림 데이터 요금은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-205">There is no charge for Live Stream data.</span></span>

<span data-ttu-id="cbf62-206">Log Analytics는 서비스에 수집된 데이터에 대해 GB(기가바이트)당 비용이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-206">Log Analytics is billed per gigabyte (GB) of data ingested into the service.</span></span> <span data-ttu-id="cbf62-207">매달 Azure Log Analytics 서비스에 수집되는 데이터 5GB까지는 무료이고, 처음 31일 동안은 데이터가 Log Analytics 작업 영역에 무료로 보관됩니다.</span><span class="sxs-lookup"><span data-stu-id="cbf62-207">The first 5 GB of data ingested to the Azure Log Analytics service every month is offered free, and the data is retained at no charge for first 31 days in your Log Analytics workspace.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="cbf62-208">다음 단계</span><span class="sxs-lookup"><span data-stu-id="cbf62-208">Next steps</span></span>

<span data-ttu-id="cbf62-209">고유의 모니터링 솔루션을 시작할 수 있도록 설계된 다음 리소스를 확인해 보세요.</span><span class="sxs-lookup"><span data-stu-id="cbf62-209">Check out these resources designed to help you get started with your own monitoring solution:</span></span>

<span data-ttu-id="cbf62-210">[기본 웹 응용 프로그램 참조 아키텍처][Basic web application reference architecture]</span><span class="sxs-lookup"><span data-stu-id="cbf62-210">[Basic web application reference architecture][Basic web application reference architecture]</span></span>

<span data-ttu-id="cbf62-211">[ASP.NET 웹 응용 프로그램 모니터링 시작][Start monitoring your ASP.NET Web Application]</span><span class="sxs-lookup"><span data-stu-id="cbf62-211">[Start monitoring your ASP.NET Web Application][Start monitoring your ASP.NET Web Application]</span></span>

<span data-ttu-id="cbf62-212">[Azure Virtual Machines에 대한 데이터 수집][Collect data about Azure Virtual Machines]</span><span class="sxs-lookup"><span data-stu-id="cbf62-212">[Collect data about Azure Virtual Machines][Collect data about Azure Virtual Machines]</span></span>

## <a name="related-resources"></a><span data-ttu-id="cbf62-213">관련 리소스</span><span class="sxs-lookup"><span data-stu-id="cbf62-213">Related resources</span></span>

<span data-ttu-id="cbf62-214">[Azure 응용 프로그램 및 리소스 모니터링][Monitoring Azure applications and resources]</span><span class="sxs-lookup"><span data-stu-id="cbf62-214">[Monitoring Azure applications and resources][Monitoring Azure applications and resources]</span></span>

<span data-ttu-id="cbf62-215">[Azure Application Insights를 사용하여 런타임 예외 찾기 및 진단][Find and diagnose run-time exceptions with Azure Application Insights]</span><span class="sxs-lookup"><span data-stu-id="cbf62-215">[Find and diagnose run-time exceptions with Azure Application Insights][Find and diagnose run-time exceptions with Azure Application Insights]</span></span>

<!-- links -->
[architecture]: ./media/architecture-app-monitoring.png
[availability-tests]: /azure/application-insights/app-insights-monitor-web-app-availability
[application-insights]: /azure/application-insights/app-insights-overview
[azure-monitor]: /azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor
[metrics]: /azure/monitoring-and-diagnostics/monitoring-supported-metrics
[Log Analytics 및 기타 서비스]: /azure/log-analytics/log-analytics-azure-storage
[Log Analytics and other services]: /azure/log-analytics/log-analytics-azure-storage
[log-analytics]: /azure/log-analytics/log-analytics-overview
[Azure Log Analytics agent]: https://blogs.msdn.microsoft.com/sqlsecurity/2017/12/28/azure-log-analytics-oms-agent-now-collects-sql-server-audit-logs/
[application-insights-pricing]: https://azure.microsoft.com/pricing/details/application-insights/
[Application Insights SDKs]: /azure/application-insights/app-insights-asp-net
[Application Insights Status Monitor]: https://azure.microsoft.com/updates/application-insights-status-monitor-and-sdk-updated/
[analyzing data across sources]: /azure/log-analytics/log-analytics-dashboards
[sending proactive alerts]: /azure/log-analytics/log-analytics-alerts
[the Azure portal]: /azure/log-analytics/log-analytics-tutorial-dashboards
[Azure Log Analytics Query Language]: https://docs.loganalytics.io/docs/Learn
[cross-resource queries]: https://azure.microsoft.com/blog/query-across-resources/
[alerts]: /azure/monitoring-and-diagnostics/monitoring-overview-alerts
[Alerts (Preview)]: /azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts
[Azure Monitor Data Source For Grafana]: https://grafana.com/plugins/grafana-azure-monitor-datasource
[Azure Automation]: /azure/automation/automation-intro
[ITSM solutions]: https://azure.microsoft.com/blog/itsm-connector-for-azure-is-now-generally-available/
[management solution]: /azure/monitoring/monitoring-solutions
[SLA]: https://azure.microsoft.com/support/legal/sla/app-service/v1_4/
[monitor its availability]: /azure/application-insights/app-insights-monitor-web-app-availability
[Resources, roles, and access control in Application Insights]: /azure/application-insights/app-insights-resources-roles-access-control
[basic metrics]: /azure/monitoring-and-diagnostics/monitoring-supported-metrics
[pricing]: https://azure.microsoft.com/pricing/calculator/#log-analyticsc126d8c1-ec9c-4e5b-9b51-4db95d06a9b1
[Sampling in Application Insights]: /azure/application-insights/app-insights-sampling
[Live Metrics Stream]: /azure/application-insights/app-insights-live-stream
[Basic web application reference architecture]: /azure/architecture/reference-architectures/app-service-web-app/basic-web-app#scalability-considerations
[Start monitoring your ASP.NET Web Application]: /azure/application-insights/quick-monitor-portal
[Collect data about Azure Virtual Machines]: /azure/log-analytics/log-analytics-quick-collect-azurevm
[Monitoring Azure applications and resources]: /azure/monitoring-and-diagnostics/monitoring-overview
[Find and diagnose run-time exceptions with Azure Application Insights]: /azure/application-insights/app-insights-tutorial-runtime-exceptions
[data-dog]: https://www.datadoghq.com/blog/azure-monitoring-enhancements/
[app-insights-limits]: /azure/azure-subscription-service-limits#application-insights-limits
[message-filtering]: /azure/application-insights/app-insights-api-filtering-sampling
[message-sampling]: /azure/application-insights/app-insights-sampling
