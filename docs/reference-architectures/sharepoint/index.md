---
title: "Azure에서 고가용성 SharePoint Server 2016 팜 실행"
description: "Azure에 고가용성 SharePoint Server 2016 팜을 설정하는 방법에 대한 검증된 사례입니다."
author: njray
ms.date: 08/01/2017
ms.openlocfilehash: d16f8721c6edc8e5049766f13e2d3bc59524453f
ms.sourcegitcommit: 3d9ee03e2dda23753661a80c7106d1789f5223bb
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/23/2018
---
# <a name="run-a-high-availability-sharepoint-server-2016-farm-in-azure"></a><span data-ttu-id="931a9-103">Azure에서 고가용성 SharePoint Server 2016 팜 실행</span><span class="sxs-lookup"><span data-stu-id="931a9-103">Run a high availability SharePoint Server 2016 farm in Azure</span></span>

<span data-ttu-id="931a9-104">이 참조 아키텍처에서는 MinRole 토폴로지 및 SQL Server Always On 가용성 그룹을 사용하여 Azure에 고가용성 SharePoint Server 2016 팜을 설정하는 방법에 대한 검증된 사례 모음을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-104">This reference architecture shows a set of proven practices for setting up a high availability SharePoint Server 2016 farm on Azure, using MinRole topology and SQL Server Always On availability groups.</span></span> <span data-ttu-id="931a9-105">SharePoint 팜은 인터넷 연결 엔드포인트 또는 실체가 없는 안전한 가상 네트워크에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-105">The SharePoint farm is deployed in a secured virtual network with no Internet-facing endpoint or presence.</span></span> [<span data-ttu-id="931a9-106">**이 솔루션을 배포합니다**.</span><span class="sxs-lookup"><span data-stu-id="931a9-106">**Deploy this solution**.</span></span>](#deploy-the-solution) 

![](./images/sharepoint-ha.png)

<span data-ttu-id="931a9-107">*이 아키텍처의 [Visio 파일][visio-download]을 다운로드합니다.*</span><span class="sxs-lookup"><span data-stu-id="931a9-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="931a9-108">건축</span><span class="sxs-lookup"><span data-stu-id="931a9-108">Architecture</span></span>

<span data-ttu-id="931a9-109">이 아키텍처는 [N 계층 응용 프로그램에 대한 Windows VM 실행][windows-n-tier]에 나와 있는 아키텍처를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-109">This architecture builds on the one shown in [Run Windows VMs for an N-tier application][windows-n-tier].</span></span> <span data-ttu-id="931a9-110">Azure 가상 네트워크(VNet) 내부에 고가용성 SharePoint Server 2016 팜을 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-110">It deploys a SharePoint Server 2016 farm with high availability inside an Azure virtual network (VNet).</span></span> <span data-ttu-id="931a9-111">이 아키텍처는 테스트 또는 프로덕션 환경, Office 365를 사용하는 SharePoint 하이브리드 인프라 또는 재해 복구 시나리오의 기준으로 사용하기에 적합합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-111">This architecture is suitable for a test or production environment, a SharePoint hybrid infrastructure with Office 365, or as the basis for a disaster recovery scenario.</span></span>

<span data-ttu-id="931a9-112">이 아키텍처는 다음과 같은 구성 요소로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-112">The architecture consists of the following components:</span></span>

- <span data-ttu-id="931a9-113">**리소스 그룹**.</span><span class="sxs-lookup"><span data-stu-id="931a9-113">**Resource groups**.</span></span> <span data-ttu-id="931a9-114">[리소스 그룹][resource-group]은 관련 Azure 리소스를 보유하는 컨테이너입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-114">A [resource group][resource-group] is a container that holds related Azure resources.</span></span> <span data-ttu-id="931a9-115">한 리소스 그룹은 SharePoint 서버에 사용되고, 다른 리소스 그룹은 가상 네트워크나 부하 분산 장치처럼 VM에 독립적인 인프라 구성 요소에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-115">One resource group is used for the SharePoint servers, and another resource group is used for infrastructure components that are independent of VMs, such as the virtual network and load balancers.</span></span>

- <span data-ttu-id="931a9-116">**가상 네트워크(VNet)**.</span><span class="sxs-lookup"><span data-stu-id="931a9-116">**Virtual network (VNet)**.</span></span> <span data-ttu-id="931a9-117">VM은 고유한 인트라넷 주소 공간을 사용하는 VNet에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-117">The VMs are deployed in a VNet with a unique intranet address space.</span></span> <span data-ttu-id="931a9-118">VNet은 서브넷으로 더욱 세분화됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-118">The VNet is further subdivided into subnets.</span></span> 

- <span data-ttu-id="931a9-119">**VM(가상 머신)**.</span><span class="sxs-lookup"><span data-stu-id="931a9-119">**Virtual machines (VMs)**.</span></span> <span data-ttu-id="931a9-120">VM은 VNet에 배포되며, 모든 VM은 개인 고정 IP 주소가 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-120">The VMs are deployed into the VNet, and private static IP addresses are assigned to all of the VMs.</span></span> <span data-ttu-id="931a9-121">SQL Server 및 SharePoint Server 2016을 실행하는 VM에는 재시작 후 IP 주소 캐싱 및 주소 변경 문제를 방지할 수 있도록 고정 IP 주소를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-121">Static IP addresses are recommended for the VMs running SQL Server and SharePoint Server 2016, to avoid issues with IP address caching and changes of addresses after a restart.</span></span>

- <span data-ttu-id="931a9-122">**가용성 집합**.</span><span class="sxs-lookup"><span data-stu-id="931a9-122">**Availability sets**.</span></span> <span data-ttu-id="931a9-123">각 SharePoint 역할의 VM을 별도의 [가용성 집합][availability-set]에 배치하고, 역할마다 VM(가상 머신)을 두 대 이상 프로비전합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-123">Place the VMs for each SharePoint role into separate [availability sets][availability-set], and provision at least two virtual machines (VMs) for each role.</span></span> <span data-ttu-id="931a9-124">이렇게 하면 VM이 더 높은 Service Level Agreement(서비스 수준 약정)를 충족할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-124">This makes the VMs eligible for a higher service level agreement (SLA).</span></span> 

- <span data-ttu-id="931a9-125">**내부 부하 분산 장치**.</span><span class="sxs-lookup"><span data-stu-id="931a9-125">**Internal load balancer**.</span></span> <span data-ttu-id="931a9-126">[부하 분산 장치][load-balancer]는 온-프레미스 네트워크의 SharePoint 요청 트래픽을 SharePoint 팜의 프런트 엔드 웹 서버로 분산합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-126">The [load balancer][load-balancer] distributes SharePoint request traffic from the on-premises network to the front-end web servers of the SharePoint farm.</span></span> 

- <span data-ttu-id="931a9-127">**NSG(네트워크 보안 그룹)**.</span><span class="sxs-lookup"><span data-stu-id="931a9-127">**Network security groups (NSGs)**.</span></span> <span data-ttu-id="931a9-128">가상 머신을 포함하고 있는 서브넷마다 [네트워크 보안 그룹][nsg]이 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-128">For each subnet that contains virtual machines, a [network security group][nsg] is created.</span></span> <span data-ttu-id="931a9-129">서브넷을 격리하려면 NSG를 사용하여 VNet 내부의 네트워크 트래픽을 제한합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-129">Use NSGs to restrict network traffic within the VNet, in order to isolate subnets.</span></span> 

- <span data-ttu-id="931a9-130">**게이트웨이**.</span><span class="sxs-lookup"><span data-stu-id="931a9-130">**Gateway**.</span></span> <span data-ttu-id="931a9-131">게이트웨이는 온-프레미스 네트워크와 Azure 가상 네트워크를 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-131">The gateway provides a connection between your on-premises network and the Azure virtual network.</span></span> <span data-ttu-id="931a9-132">연결에 ExpressRoute 또는 사이트 간 VPN을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-132">Your connection can use ExpressRoute or site-to-site VPN.</span></span> <span data-ttu-id="931a9-133">자세한 내용은 [온-프레미스 네트워크를 Azure에 연결][hybrid-ra]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-133">For more information, see [Connect an on-premises network to Azure][hybrid-ra].</span></span>

- <span data-ttu-id="931a9-134">**Windows Server AD(Active Directory) 도메인 컨트롤러**.</span><span class="sxs-lookup"><span data-stu-id="931a9-134">**Windows Server Active Directory (AD) domain controllers**.</span></span> <span data-ttu-id="931a9-135">SharePoint Server 2016에서는 Azure Active Directory Domain Services 사용을 지원하지 않으므로 Windows Server AD 도메인 컨트롤러를 배포해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-135">Because SharePoint Server 2016 does not support using Azure Active Directory Domain Services, you must deploy Windows Server AD domain controllers.</span></span> <span data-ttu-id="931a9-136">이러한 도메인 컨트롤러는 Azure VNet에서 실행되며 온-프레미스 Windows Server AD 포리스트와 트러스트 관계에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-136">These domain controllers run in the Azure VNet and have a trust relationship with the on-premises Windows Server AD forest.</span></span> <span data-ttu-id="931a9-137">게이트웨이 연결의 인증 트래픽을 온-프레미스 네트워크로 전송하는 대신 VNet에서 SharePoint 팜 리소스에 대한 클라이언트 웹 요청이 인증됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-137">Client web requests for SharePoint farm resources are authenticated in the VNet rather than sending that authentication traffic across the gateway connection to the on-premises network.</span></span> <span data-ttu-id="931a9-138">DNS에서 인트라넷 A 또는 CNAME 레코드가 생성되므로 인트라넷 사용자는 내부 부하 분산 장치의 개인 IP 주소에 해당하는 SharePoint 팜 이름을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-138">In DNS, intranet A or CNAME records are created so that intranet users can resolve the name of the SharePoint farm to the private IP address of the internal load balancer.</span></span>

- <span data-ttu-id="931a9-139">**SQL Server Always On 가용성 그룹**.</span><span class="sxs-lookup"><span data-stu-id="931a9-139">**SQL Server Always On Availability Group**.</span></span> <span data-ttu-id="931a9-140">SQL Server 데이터 고가용성의 경우 [SQL Server Always On 가용성 그룹][sql-always-on]을 추천합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-140">For high availability of the SQL Server database, we recommend [SQL Server Always On Availability Groups][sql-always-on].</span></span> <span data-ttu-id="931a9-141">두 대의 가상 머신이 SQL Server에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-141">Two virtual machines are used for SQL Server.</span></span> <span data-ttu-id="931a9-142">하나는 주 데이터베이스 복제본을 포함하고 다른 하나는 보조 복제본을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-142">One contains the primary database replica and the other contains the secondary replica.</span></span> 

- <span data-ttu-id="931a9-143">**주 노드 VM**.</span><span class="sxs-lookup"><span data-stu-id="931a9-143">**Majority node VM**.</span></span> <span data-ttu-id="931a9-144">이 VM은 장애 조치(failover) 클러스터의 쿼럼 설정을 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-144">This VM allows the failover cluster to establish quorum.</span></span> <span data-ttu-id="931a9-145">자세한 내용은 [장애 조치(Failover) 클러스터의 쿼럼 구성 이해][sql-quorum]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-145">For more information, see [Understanding Quorum Configurations in a Failover Cluster][sql-quorum].</span></span>

- <span data-ttu-id="931a9-146">**SharePoint 서버**.</span><span class="sxs-lookup"><span data-stu-id="931a9-146">**SharePoint servers**.</span></span> <span data-ttu-id="931a9-147">SharePoint 서버는 웹 프런트 엔드, 캐싱, 응용 프로그램 및 검색 역할을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-147">The SharePoint servers perform the web front-end, caching, application, and search roles.</span></span> 

- <span data-ttu-id="931a9-148">**Jumpbox**.</span><span class="sxs-lookup"><span data-stu-id="931a9-148">**Jumpbox**.</span></span> <span data-ttu-id="931a9-149">[요새 호스트][bastion-host]라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-149">Also called a [bastion host][bastion-host].</span></span> <span data-ttu-id="931a9-150">관리자가 다른 VM에 연결할 때 사용하는 네트워크의 보안 VM입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-150">This is a secure VM on the network that administrators use to connect to the other VMs.</span></span> <span data-ttu-id="931a9-151">jumpbox는 안전 목록에 있는 공용 IP 주소의 원격 트래픽만 허용하는 NSG를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-151">The jumpbox has an NSG that allows remote traffic only from public IP addresses on a safe list.</span></span> <span data-ttu-id="931a9-152">NSG는 RDP(원격 데스크톱) 트래픽을 허용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-152">The NSG should permit remote desktop (RDP) traffic.</span></span>

## <a name="recommendations"></a><span data-ttu-id="931a9-153">권장 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-153">Recommendations</span></span>

<span data-ttu-id="931a9-154">개발자의 요구 사항이 여기에 설명된 아키텍처와 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-154">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="931a9-155">여기서 추천하는 권장 사항을 단지 시작점으로 활용하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-155">Use these recommendations as a starting point.</span></span>

### <a name="resource-group-recommendations"></a><span data-ttu-id="931a9-156">리소스 그룹 권장 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-156">Resource group recommendations</span></span>

<span data-ttu-id="931a9-157">서버 역할에 따라 리소스 그룹을 나누고, 전역 리소스인 인프라 구성 요소에 사용할 별도의 리소스 그룹을 두는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-157">We recommend separating resource groups according to the server role, and having a separate resource group for infrastructure components that are global resources.</span></span> <span data-ttu-id="931a9-158">이 아키텍처에서는 SharePoint 리소스가 한 그룹을 형성하고, SQL Server와 기타 유틸리티 자산이 또 다른 그룹을 형성합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-158">In this architecture, the SharePoint resources form one group, while the SQL Server and other utility assets form another.</span></span>

### <a name="virtual-network-and-subnet-recommendations"></a><span data-ttu-id="931a9-159">가상 네트워크 및 서브넷 권장 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-159">Virtual network and subnet recommendations</span></span>

<span data-ttu-id="931a9-160">SharePoint 역할마다 서브넷을 하나씩 사용하고, 게이트웨이와 jumpbox에도 서브넷을 하나씩 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-160">Use one subnet for each SharePoint role, plus a subnet for the gateway and one for the jumpbox.</span></span> 

<span data-ttu-id="931a9-161">게이트웨이 서브넷의 이름을 *GatewaySubnet*으로 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-161">The gateway subnet must be named *GatewaySubnet*.</span></span> <span data-ttu-id="931a9-162">가상 네트워크 주소 공간의 마지막 부분에서 게이트웨이 서브넷 주소 공간을 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-162">Assign the gateway subnet address space from the last part of the virtual network address space.</span></span> <span data-ttu-id="931a9-163">자세한 내용은 [VPN 게이트웨이를 사용하여 온-프레미스 네트워크를 Azure에 연결][hybrid-vpn-ra]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-163">For more information, see [Connect an on-premises network to Azure using a VPN gateway][hybrid-vpn-ra].</span></span>

### <a name="vm-recommendations"></a><span data-ttu-id="931a9-164">VM 권장 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-164">VM recommendations</span></span>

<span data-ttu-id="931a9-165">표준 DSv2 가상 머신 크기에 따라 이 아키텍처를 사용하려면 최소 38코어가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-165">Based on Standard DSv2 virtual machine sizes, this architecture requires a minimum of 38 cores:</span></span>

- <span data-ttu-id="931a9-166">Standard_DS3_v2(각각 4코어)에 SharePoint 서버 8개 = 32코어</span><span class="sxs-lookup"><span data-stu-id="931a9-166">8 SharePoint servers on Standard_DS3_v2 (4 cores each) = 32 cores</span></span>
- <span data-ttu-id="931a9-167">Standard_DS1_v2(각각 1코어)에 Active Directory 도메인 컨트롤러 2개 = 2코어</span><span class="sxs-lookup"><span data-stu-id="931a9-167">2 Active Directory domain controllers on Standard_DS1_v2 (1 core each) = 2 cores</span></span>
- <span data-ttu-id="931a9-168">Standard_DS1_v2에 SQL Server VM 2개 = 2코어</span><span class="sxs-lookup"><span data-stu-id="931a9-168">2 SQL Server VMs on Standard_DS1_v2 = 2 cores</span></span>
- <span data-ttu-id="931a9-169">Standard_DS1_v2에 주 노드 1개 = 1코어</span><span class="sxs-lookup"><span data-stu-id="931a9-169">1 majority node on Standard_DS1_v2 = 1 core</span></span>
- <span data-ttu-id="931a9-170">Standard_DS1_v2에 관리 서버 1개 = 1코어</span><span class="sxs-lookup"><span data-stu-id="931a9-170">1 management server on Standard_DS1_v2 = 1 core</span></span>

<span data-ttu-id="931a9-171">총 코어 수는 선택하는 VM 크기에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-171">The total number of cores will depend on the VM sizes that you select.</span></span> <span data-ttu-id="931a9-172">자세한 내용은 아래의 [SharePoint Server 권장 사항](#sharepoint-server-recommendations)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-172">For more information, see [SharePoint Server recommendations](#sharepoint-server-recommendations) below.</span></span>

<span data-ttu-id="931a9-173">배포에 사용할 Azure 구독의 VM 코어 할당량이 충분해야 하며, 그렇지 않으면 배포가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-173">Make sure your Azure subscription has enough VM core quota for the deployment, or the deployment will fail.</span></span> <span data-ttu-id="931a9-174">[Azure 구독 및 서비스 제한, 할당량 및 제약 조건][quotas]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-174">See [Azure subscription and service limits, quotas, and constraints][quotas].</span></span> 
 
### <a name="nsg-recommendations"></a><span data-ttu-id="931a9-175">NSG 권장 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-175">NSG recommendations</span></span>

<span data-ttu-id="931a9-176">VM을 포함하는 서브넷마다 NSG를 하나씩 사용하여 서브넷을 격리하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-176">We recommend having one NSG for each subnet that contains VMs, to enable subnet isolation.</span></span> <span data-ttu-id="931a9-177">서브넷 격리를 구성하려면 각 서브넷에 허용 또는 거부되는 인바운드 또는 아웃 바운드 트래픽을 정의하는 NSG 규칙을 추가하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-177">If you want to configure subnet isolation, add NSG rules that define the allowed or denied inbound or outbound traffic for each subnet.</span></span> <span data-ttu-id="931a9-178">자세한 내용은 [네트워크 보안 그룹을 사용하여 네트워크 트래픽 필터링][virtual-networks-nsg]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-178">For more information, see [Filter network traffic with network security groups][virtual-networks-nsg].</span></span> 

<span data-ttu-id="931a9-179">게이트웨이 서브넷에는 NSG를 할당하지 마세요. 할당하면 게이트웨이의 작동이 중지됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-179">Do not assign an NSG to the gateway subnet, or the gateway will stop functioning.</span></span> 

### <a name="storage-recommendations"></a><span data-ttu-id="931a9-180">저장소 권장 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-180">Storage recommendations</span></span>

<span data-ttu-id="931a9-181">팜의 VM 저장소 구성은 온-프레미스 배포에 사용되는 적절한 모범 사례와 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-181">The storage configuration of the VMs in the farm should match the appropriate best practices used for on-premises deployments.</span></span> <span data-ttu-id="931a9-182">SharePoint 서버는 로그에 사용할 별도의 디스크가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-182">SharePoint servers should have a separate disk for logs.</span></span> <span data-ttu-id="931a9-183">검색 인덱스 역할을 호스팅하는 SharePoint 서버는 검색 인덱스를 저장할 추가 디스크 공간이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-183">SharePoint servers hosting search index roles require additional disk space for the search index to be stored.</span></span> <span data-ttu-id="931a9-184">SQL Server의 경우 데이터와 로그를 구분하는 것이 표준 사례입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-184">For SQL Server, the standard practice is to separate data and logs.</span></span> <span data-ttu-id="931a9-185">데이터베이스 백업 저장소에 디스크를 추가하고 [tempdb][tempdb]에 별도의 디스크를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-185">Add more disks for database backup storage, and use a separate disk for [tempdb][tempdb].</span></span>

<span data-ttu-id="931a9-186">안정성을 최대로 높이려면 [Azure Managed Disks][managed-disks]를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-186">For best reliability, we recommend using [Azure Managed Disks][managed-disks].</span></span> <span data-ttu-id="931a9-187">관리 디스크는 가용성 집합 내의 VM용 디스크를 격리하여 단일 실패 지점을 방지합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-187">Managed disks ensure that the disks for VMs within an availability set are isolated to avoid single points of failure.</span></span> 

> [!NOTE]
> <span data-ttu-id="931a9-188">현재 이 참조 아키텍처에 대한 Resource Manager 템플릿은 관리 디스크를 사용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-188">Currently the Resource Manager template for this reference architecture does not use managed disks.</span></span> <span data-ttu-id="931a9-189">관리 디스크를 사용하도록 템플릿을 업데이트할 예정입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-189">We are planning to update the template to use managed disks.</span></span>

<span data-ttu-id="931a9-190">모든 SharePoint 및 SQL Server VM에 프리미엄 관리 디스크를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-190">Use Premium managed disks for all SharePoint and SQL Server VMs.</span></span> <span data-ttu-id="931a9-191">주 노드 서버, 도메인 컨트롤러 및 관리 서버에 표준 관리 디스크를 사용해도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-191">You can use Standard managed disks for the majority node server, the domain controllers, and the management server.</span></span> 

### <a name="sharepoint-server-recommendations"></a><span data-ttu-id="931a9-192">SharePoint Server 권장 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-192">SharePoint Server recommendations</span></span>

<span data-ttu-id="931a9-193">SharePoint 팜을 구성하기 전에 서비스마다 Windows Server Active Directory 서비스 계정이 하나씩 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-193">Before configuring the SharePoint farm, make sure you have one Windows Server Active Directory service account per service.</span></span> <span data-ttu-id="931a9-194">이 아키텍처는 역할당 권한을 격리할 다음과 같은 최소 도메인 수준 계정이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-194">For this architecture, you need at a minimum the following domain-level accounts to isolate privilege per role:</span></span>

- <span data-ttu-id="931a9-195">SQL Server 서비스 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-195">SQL Server Service account</span></span>
- <span data-ttu-id="931a9-196">설치 사용자 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-196">Setup User account</span></span>
- <span data-ttu-id="931a9-197">서버 팜 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-197">Server Farm account</span></span>
- <span data-ttu-id="931a9-198">서버 서비스 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-198">Search Service account</span></span>
- <span data-ttu-id="931a9-199">콘텐츠 액세스 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-199">Content Access account</span></span>
- <span data-ttu-id="931a9-200">웹앱 풀 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-200">Web App Pool accounts</span></span>
- <span data-ttu-id="931a9-201">서비스 앱 풀 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-201">Service App Pool accounts</span></span>
- <span data-ttu-id="931a9-202">캐시 슈퍼 사용자 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-202">Cache Super User account</span></span>
- <span data-ttu-id="931a9-203">캐시 슈퍼 읽기 권한자 계정</span><span class="sxs-lookup"><span data-stu-id="931a9-203">Cache Super Reader account</span></span>

<span data-ttu-id="931a9-204">Search Indexer를 제외한 모든 역할에는 [Standard_DS3_v2][vm-sizes-general] VM 크기를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-204">For all roles except the Search Indexer, we recommended using the [Standard_DS3_v2][vm-sizes-general] VM size.</span></span> <span data-ttu-id="931a9-205">Search Indexer에는 최소한 [Standard_DS13_v2][vm-sizes-memory] 이상을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-205">The Search Indexer should be at least the [Standard_DS13_v2][vm-sizes-memory] size.</span></span> 

> [!NOTE]
> <span data-ttu-id="931a9-206">이 참조 아키텍처에 대한 Resource Manager 템플릿은 배포를 테스트할 목적으로 Search Indexer에 좀 더 작은 DS3 크기를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-206">The Resource Manager template for this reference architecture uses the smaller DS3 size for the Search Indexer, for purposes of testing the deployment.</span></span> <span data-ttu-id="931a9-207">프로덕션 배포의 경우 DS13 이상 크기를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-207">For a production deployment, use the DS13 size or larger.</span></span> 

<span data-ttu-id="931a9-208">프로덕션 워크로드의 경우 [SharePoint Server 2016의 하드웨어 및 소프트웨어 요구 사항][sharepoint-reqs]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-208">For production workloads, see [Hardware and software requirements for SharePoint Server 2016][sharepoint-reqs].</span></span> 

<span data-ttu-id="931a9-209">초당 최소 200MB라는 디스크 처리량 지원 요구를 충족하도록 검색 아키텍처를 계획해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-209">To meet the support requirement for disk throughput of 200 MB per second minimum, make sure to plan the Search architecture.</span></span> <span data-ttu-id="931a9-210">[SharePoint Server 2013에서 엔터프라이즈 검색 아키텍처 계획][sharepoint-search]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-210">See [Plan enterprise search architecture in SharePoint Server 2013][sharepoint-search].</span></span> <span data-ttu-id="931a9-211">그리고 [SharePoint Server 2016에서 크롤링하는 방법에 대한 모범 사례][sharepoint-crawling]의 지침을 따르세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-211">Also follow the guidelines in [Best practices for crawling in SharePoint Server 2016][sharepoint-crawling].</span></span>

<span data-ttu-id="931a9-212">또한 검색 구성 요소 데이터를 별도의 고성능 저장소 볼륨 또는 파티션에 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-212">In addition, store the search component data on a separate storage volume or partition with high performance.</span></span> <span data-ttu-id="931a9-213">부하를 줄이고 처리량을 높일 수 있도록 이 아키텍처에 필요한 개체 캐시 사용자 계정을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-213">To reduce load and improve throughput, configure the object cache user accounts, which are required in this architecture.</span></span> <span data-ttu-id="931a9-214">Windows Server 운영 체제 파일, SharePoint Server 2016 프로그램 파일 및 진단 로그를 별도의 중간 성능 저장소 볼륨 또는 파티션 3개에 분할합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-214">Split the Windows Server operating system files, the SharePoint Server 2016 program files, and diagnostics logs across three separate storage volumes or partitions with normal performance.</span></span> 

<span data-ttu-id="931a9-215">이러한 권장 사항에 대한 자세한 내용은 [SharePoint Server 2016의 초기 배포 관리 및 서비스 계정][sharepoint-accounts]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-215">For more information about these recommendations, see [Initial deployment administrative and service accounts in SharePoint Server 2016][sharepoint-accounts].</span></span>

### <a name="hybrid-workloads"></a><span data-ttu-id="931a9-216">하이브리드 워크로드</span><span class="sxs-lookup"><span data-stu-id="931a9-216">Hybrid workloads</span></span>

<span data-ttu-id="931a9-217">이 참조 아키텍처는 [SharePoint 하이브리드 환경] [sharepoint-hybrid]&mdash;으로 사용할 수 있는, 다시 말해서 SharePoint Server 2016을 Office 365 SharePoint Online으로 확장하는 SharePoint Server 2016 팜을 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-217">This reference architecture deploys a SharePoint Server 2016 farm that can be used as a [SharePoint hybrid environment][sharepoint-hybrid] &mdash; that is, extending SharePoint Server 2016 to Office 365 SharePoint Online.</span></span> <span data-ttu-id="931a9-218">Office Online Server가 있는 분은 [Azure의 Office Web Apps 및 Office Online Server 지원 여부][office-web-apps]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-218">If you have Office Online Server, see [Office Web Apps and Office Online Server supportability in Azure][office-web-apps].</span></span>

<span data-ttu-id="931a9-219">이 배포의 기본 서비스 응용 프로그램은 하이브리드 워크로드를 지원하도록 설계되었습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-219">The default service applications in this deployment are designed to support hybrid workloads.</span></span> <span data-ttu-id="931a9-220">SharePoint 인프라를 변경하지 않고도 모든 SharePoint Server 2016 및 Office 365 하이브리드 워크로드를 이 팜에 배포할 수 있지만 한 가지 예외가 있습니다. 클라우드 하이브리드 검색 서비스 응용 프로그램은 기존 검색 토폴로지를 호스팅하는 서버에 배포하면 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-220">All SharePoint Server 2016 and Office 365 hybrid workloads can be deployed to this farm without changes to the SharePoint infrastructure, with one exception: The Cloud Hybrid Search Service Application must not be deployed onto servers hosting an existing search topology.</span></span> <span data-ttu-id="931a9-221">따라서 이 하이브리드 시나리오를 지원하려면 하나 이상의 검색-역할 기반 VM을 팜에 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-221">Therefore, one or more search-role-based VMs must be added to the farm to support this hybrid scenario.</span></span>

### <a name="sql-server-always-on-availability-groups"></a><span data-ttu-id="931a9-222">SQL Server Always On 가용성 그룹</span><span class="sxs-lookup"><span data-stu-id="931a9-222">SQL Server Always On Availability Groups</span></span>

<span data-ttu-id="931a9-223">SharePoint Server 2016에서 Azure SQL Database를 사용할 수 없으므로 이 아키텍처는 SQL Server 가상 머신을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-223">This architecture uses SQL Server virtual machines because SharePoint Server 2016 cannot use Azure SQL Database.</span></span> <span data-ttu-id="931a9-224">SQL Server에서 고가용성을 지원하려면 함께 장애 조치(failover)되는 데이터베이스 집합을 지정하여 가용성과 복원력을 높이는 Always On 가용성 그룹을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-224">To support high availability in SQL Server, we recommend using Always On Availability Groups, which specify a set of databases that fail over together, making them highly-available and recoverable.</span></span> <span data-ttu-id="931a9-225">이 참조 아키텍처에서는 배포하는 동안 데이터베이스가 생성되지만, 수동으로 Always On 가용성 그룹을 사용하도록 설정하고 가용성 그룹에 SharePoint 데이터베이스를 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-225">In this reference architecture, the databases are created during deployment, but you must manually enable Always On Availability Groups and add the SharePoint databases to an availability group.</span></span> <span data-ttu-id="931a9-226">자세한 내용은 [가용성 그룹을 만들고 SharePoint 데이터베이스 추가][create-availability-group]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-226">For more information, see [Create the availability group and add the SharePoint databases][create-availability-group].</span></span>

<span data-ttu-id="931a9-227">또한 SQL Server 가상 머신의 내부 부하 분산 장치에 대한 개인 IP 주소인 수신기 IP 주소를 클러스터에 추가하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-227">We also recommend adding a listener IP address to the cluster, which is the private IP address of the internal load balancer for the SQL Server virtual machines.</span></span>

<span data-ttu-id="931a9-228">Azure에서 실행되는 SQL Server에 대한 권장 VM 크기 및 기타 권장 성능은 [Azure Virtual Machines의 SQL Server에 대한 성능 모범 사례][sql-performance]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-228">For recommended VM sizes and other performance recommendations for SQL Server running in Azure, see [Performance best practices for SQL Server in Azure Virtual Machines][sql-performance].</span></span> <span data-ttu-id="931a9-229">또한 [SharePoint Server 2016 팜의 SQL Server에 대한 모범 사례][sql-sharepoint-best-practices]의 권장 사항을 따르세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-229">Also follow the recommendations in [Best practices for SQL Server in a SharePoint Server 2016 farm][sql-sharepoint-best-practices].</span></span>

<span data-ttu-id="931a9-230">주 노드 서버는 복제 파트너와 분리된 별도의 컴퓨터에 상주하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-230">We recommend that the majority node server reside on a separate computer from the replication partners.</span></span> <span data-ttu-id="931a9-231">서버는 보호 우선 모드 세션의 보조 복제 파트너 서버가 자동 장애 조치(failover)의 시작 여부를 인식하도록 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-231">The server enables the secondary replication partner server in a high-safety mode session to recognize whether to initiate an automatic failover.</span></span> <span data-ttu-id="931a9-232">두 파트너와는 달리, 주 노드 서버는 데이터베이스를 제공하지 않는 대신 자동 장애 조치(failover)를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-232">Unlike the two partners, the majority node server doesn't serve the database but rather supports automatic failover.</span></span> 

## <a name="scalability-considerations"></a><span data-ttu-id="931a9-233">확장성 고려 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-233">Scalability considerations</span></span>

<span data-ttu-id="931a9-234">기존 서버를 강화하려면 VM 크기를 변경하기만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-234">To scale up the existing servers, simply change the VM size.</span></span> 

<span data-ttu-id="931a9-235">SharePoint Server 2016의 [MinRoles][minroles] 기능을 사용하면 서버의 역할을 기반으로 서버를 규모 확장하고 역할에서 서버를 제거할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-235">With the [MinRoles][minroles] capability in SharePoint Server 2016, you can scale out servers based on the server's role and also remove servers from a role.</span></span> <span data-ttu-id="931a9-236">서버를 역할에 추가할 때 원하는 단일 역할 또는 복합 역할을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-236">When you add servers to a role, you can specify any of the single roles or one of the combined roles.</span></span> <span data-ttu-id="931a9-237">하지만 검색 역할에 서버를 추가하는 경우 PowerShell을 사용하여 검색 토폴로지도 다시 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-237">If you add servers to the Search role, however, you must also reconfigure the search topology using PowerShell.</span></span> <span data-ttu-id="931a9-238">MinRoles을 사용하여 역할을 변환할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-238">You can also convert roles using MinRoles.</span></span> <span data-ttu-id="931a9-239">자세한 내용은 [SharePoint Server 2016에서 MinRole 서버 팜 관리][sharepoint-minrole]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-239">For more information, see [Managing a MinRole Server Farm in SharePoint Server 2016][sharepoint-minrole].</span></span>

<span data-ttu-id="931a9-240">SharePoint Server 2016은 자동 크기 조정에 가상 머신 확장 집합을 사용하는 것을 지원하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-240">Note that SharePoint Server 2016 doesn't support using virtual machine scale sets for auto-scaling.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="931a9-241">가용성 고려 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-241">Availability considerations</span></span>

<span data-ttu-id="931a9-242">이 참조 아키텍처는 역할마다 2개 이상의 VM이 가용성 집합에 배포되기 때문에 Azure 지역 내에서 고가용성을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-242">This reference architecture supports high availability within an Azure region, because each role has at least two VMs deployed in an availability set.</span></span>

<span data-ttu-id="931a9-243">지역 장애를 방지하려면 다른 Azure 지역에 별도의 재해 복구 팜을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-243">To protect against a regional failure, create a separate disaster recovery farm in a different Azure region.</span></span> <span data-ttu-id="931a9-244">RTO(복구 시간 목표) 및 RPO(복구 지점 목표)에 따라 설치 요구 사항이 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-244">Your recovery time objectives (RTOs) and recovery point objectives (RPOs) will determine the setup requirements.</span></span> <span data-ttu-id="931a9-245">자세한 내용은 [SharePoint 2016에 대한 재해 복구 전략 선택][sharepoint-dr]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-245">For details, see [Choose a disaster recovery strategy for SharePoint 2016][sharepoint-dr].</span></span> <span data-ttu-id="931a9-246">보조 지역은 주 지역과 *쌍을 이루는 지역*이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-246">The secondary region should be a *paired region* with the primary region.</span></span> <span data-ttu-id="931a9-247">광범위한 중단 발생 시 한 지역의 복구가 모든 쌍의 복구보다 높은 우선 순위를 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-247">In the event of a broad outage, recovery of one region is prioritized out of every pair.</span></span> <span data-ttu-id="931a9-248">자세한 내용은 [BCDR(비즈니스 연속성 및 재해 복구): Azure 쌍을 이루는 지역][paired-regions]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-248">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions][paired-regions].</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="931a9-249">관리 효율성 고려 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-249">Manageability considerations</span></span>

<span data-ttu-id="931a9-250">서버, 서버 팜 및 사이트를 운영하고 유지 관리하려면 SharePoint 운영에 대한 다음 권장 사례를 따르세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-250">To operate and maintain servers, server farms, and sites, follow the recommended practices for SharePoint operations.</span></span> <span data-ttu-id="931a9-251">자세한 내용은 [SharePoint Server 2016 운영][sharepoint-ops]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-251">For more information, see [Operations for SharePoint Server 2016][sharepoint-ops].</span></span>

<span data-ttu-id="931a9-252">SharePoint 환경에서 SQL Server를 관리할 때 고려할 작업은 데이터베이스 응용 프로그램의 일반적인 고려 사항과 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-252">The tasks to consider when managing SQL Server in a SharePoint environment may differ from the ones typically considered for a database application.</span></span> <span data-ttu-id="931a9-253">야간 증분 백업으로 매주 모든 SQL 데이터베이스 전체를 백업하는 것이 모범 사례입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-253">A best practice is to fully back up all SQL databases weekly with incremental nightly backups.</span></span> <span data-ttu-id="931a9-254">15분마다 백업 트랜잭션이 로깅됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-254">Back up transaction logs every 15 minutes.</span></span> <span data-ttu-id="931a9-255">또 다른 방법으로 기본 제공 SharePoint 작업을 비활성화하고 데이터베이스에 SQL Server 유지 관리 작업을 구현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-255">Another practice is to implement SQL Server maintenance tasks on the databases while disabling the built-in SharePoint ones.</span></span> <span data-ttu-id="931a9-256">자세한 내용은 [저장소 및 SQL Server 용량 계획 및 구성][sql-server-capacity-planning]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-256">For more information, see [Storage and SQL Server capacity planning and configuration][sql-server-capacity-planning].</span></span> 

## <a name="security-considerations"></a><span data-ttu-id="931a9-257">보안 고려 사항</span><span class="sxs-lookup"><span data-stu-id="931a9-257">Security considerations</span></span>

<span data-ttu-id="931a9-258">SharePoint Server 2016을 실행하는 데 사용되는 도메인 수준 서비스 계정은 도메인 가입 및 인증 프로세스를 처리하기 위한 Windows Server AD 도메인 컨트롤러가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-258">The domain-level service accounts used to run SharePoint Server 2016 require Windows Server AD domain controllers for domain-join and authentication processes.</span></span> <span data-ttu-id="931a9-259">Azure Active Directory Domain Services는 이 용도로 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-259">Azure Active Directory Domain Services can't be used for this purpose.</span></span> <span data-ttu-id="931a9-260">이미 인트라넷에서 가동 중인 Windows Server AD ID 인프라를 확장하기 위해 이 아키텍처는 기존 온-프레미스 Windows Server AD 포리스트의 두 Windows Server AD 복제 도메인 컨트롤러를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-260">To extend the Windows Server AD identity infrastructure already in place in the intranet, this architecture uses two Windows Server AD replica domain controllers of an existing on-premises Windows Server AD forest.</span></span>

<span data-ttu-id="931a9-261">또한 항상 보안 강화를 계획하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-261">In addition, it's always wise to plan for security hardening.</span></span> <span data-ttu-id="931a9-262">기타 권장 사항으로 다음과 같은 것들이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-262">Other recommendations include:</span></span>

- <span data-ttu-id="931a9-263">서브넷 및 역할을 격리하는 규칙을 NSG에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-263">Add rules to NSGs to isolate subnets and roles.</span></span>
- <span data-ttu-id="931a9-264">VM에 공용 IP 주소를 할당하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-264">Don't assign public IP addresses to VMs.</span></span>
- <span data-ttu-id="931a9-265">침입 감지 및 페이로드 분석의 경우 내부 Azure 부하 분산 장치 대신 프런트 엔드 웹 서버 앞에 네트워크 가상 어플라이언스를 사용하는 방안을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-265">For intrusion detection and analysis of payloads, consider using a network virtual appliance in front of the front-end web servers instead of an internal Azure load balancer.</span></span>
- <span data-ttu-id="931a9-266">필요에 따라 서버 간 일반 텍스트 트래픽을 암호화하는 IPsec 정책을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-266">As an option, use IPsec policies for encryption of cleartext traffic between servers.</span></span> <span data-ttu-id="931a9-267">서브넷도 격리하려는 경우 IPsec 트래픽을 허용하도록 네트워크 보안 그룹 규칙을 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-267">If you are also doing subnet isolation, update your network security group rules to allow IPsec traffic.</span></span>
- <span data-ttu-id="931a9-268">VM을 위한 맬웨어 방지 에이전트를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-268">Install anti-malware agents for the VMs.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="931a9-269">솔루션 배포</span><span class="sxs-lookup"><span data-stu-id="931a9-269">Deploy the solution</span></span>

<span data-ttu-id="931a9-270">이 참조 아키텍처의 배포 스크립트는 [GitHub][github]에서 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-270">The deployment scripts for this reference architecture are available on [GitHub][github].</span></span> 

<span data-ttu-id="931a9-271">이 아키텍처를 단계적으로 또는 한 번에 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-271">You can deploy this architecture incrementally or all at once.</span></span> <span data-ttu-id="931a9-272">처음에는 각 배포 단계에서 하는 일을 살펴볼 수 있도록 증분 방식 배포를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-272">The first time, we recommend an incremental deployment, so that you can see what each deployment does.</span></span> <span data-ttu-id="931a9-273">다음 *mode* 매개 변수 중 하나를 사용하여 증분을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-273">Specify the increment using one of the following *mode* parameters.</span></span>

| <span data-ttu-id="931a9-274">Mode</span><span class="sxs-lookup"><span data-stu-id="931a9-274">Mode</span></span>           | <span data-ttu-id="931a9-275">기능</span><span class="sxs-lookup"><span data-stu-id="931a9-275">What it does</span></span>                                                                                                            |
|----------------|-------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="931a9-276">onprem</span><span class="sxs-lookup"><span data-stu-id="931a9-276">onprem</span></span>         | <span data-ttu-id="931a9-277">(선택 사항) 테스트 또는 평가용으로 시뮬레이션된 온-프레미스 네트워크 환경을 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-277">(Optional) Deploys a simulated on-premises network environment, for testing or evaluation.</span></span> <span data-ttu-id="931a9-278">이 단계에서는 실제 온-프레미스 네트워크에 연결하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-278">This step does not connect to an actual on-premises network.</span></span> |
| <span data-ttu-id="931a9-279">infrastructure</span><span class="sxs-lookup"><span data-stu-id="931a9-279">infrastructure</span></span> | <span data-ttu-id="931a9-280">SharePoint 2016 네트워크 인프라 및 jumpbox를 Azure에 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-280">Deploys the SharePoint 2016 network infrastructure and jumpbox to Azure.</span></span>                                                |
| <span data-ttu-id="931a9-281">createvpn</span><span class="sxs-lookup"><span data-stu-id="931a9-281">createvpn</span></span>      | <span data-ttu-id="931a9-282">SharePoint 및 온-프레미스 네트워크의 가상 네트워크 게이트웨이를 배포하고 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-282">Deploys a virtual network gateway for both the SharePoint and on-premises networks and connects them.</span></span> <span data-ttu-id="931a9-283">`onprem` 단계를 실행한 경우에만 이 단계를 실행하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-283">Run this step only if you ran the `onprem` step.</span></span>                |
| <span data-ttu-id="931a9-284">workload</span><span class="sxs-lookup"><span data-stu-id="931a9-284">workload</span></span>       | <span data-ttu-id="931a9-285">SharePoint 서버를 SharePoint 네트워크에 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-285">Deploys the SharePoint servers to the SharePoint network.</span></span>                                                               |
| <span data-ttu-id="931a9-286">security</span><span class="sxs-lookup"><span data-stu-id="931a9-286">security</span></span>       | <span data-ttu-id="931a9-287">네트워크 보안 그룹을 SharePoint 네트워크에 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-287">Deploys the network security group to the SharePoint network.</span></span>                                                           |
| <span data-ttu-id="931a9-288">모두</span><span class="sxs-lookup"><span data-stu-id="931a9-288">all</span></span>            | <span data-ttu-id="931a9-289">모든 이전 배포를 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-289">Deploys all the preceding deployments.</span></span>                            


<span data-ttu-id="931a9-290">시뮬레이션된 온-프레미스 네트워크를 사용하여 증분 방식으로 아키텍처를 배포하려면 다음 단계를 순서대로 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-290">To deploy the architecture incrementally with a simulated on-premises network environment, run the following steps in order:</span></span>

1. <span data-ttu-id="931a9-291">onprem</span><span class="sxs-lookup"><span data-stu-id="931a9-291">onprem</span></span>
2. <span data-ttu-id="931a9-292">infrastructure</span><span class="sxs-lookup"><span data-stu-id="931a9-292">infrastructure</span></span>
3. <span data-ttu-id="931a9-293">createvpn</span><span class="sxs-lookup"><span data-stu-id="931a9-293">createvpn</span></span>
4. <span data-ttu-id="931a9-294">workload</span><span class="sxs-lookup"><span data-stu-id="931a9-294">workload</span></span>
5. <span data-ttu-id="931a9-295">security</span><span class="sxs-lookup"><span data-stu-id="931a9-295">security</span></span>

<span data-ttu-id="931a9-296">시뮬레이션된 온-프레미스 네트워크 없이 증분 방식으로 아키텍처를 배포하려면 다음 단계를 순서대로 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-296">To deploy the architecture incrementally without a simulated on-premises network environment, run the following steps in order:</span></span>

1. <span data-ttu-id="931a9-297">infrastructure</span><span class="sxs-lookup"><span data-stu-id="931a9-297">infrastructure</span></span>
2. <span data-ttu-id="931a9-298">workload</span><span class="sxs-lookup"><span data-stu-id="931a9-298">workload</span></span>
3. <span data-ttu-id="931a9-299">security</span><span class="sxs-lookup"><span data-stu-id="931a9-299">security</span></span>

<span data-ttu-id="931a9-300">한 번에 모든 항목을 배포하려면 `all`을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-300">To deploy everything in one step, use `all`.</span></span> <span data-ttu-id="931a9-301">전체 프로세스를 완료하는 데 몇 시간이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-301">Note that the entire process may take several hours.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="931a9-302">필수 조건</span><span class="sxs-lookup"><span data-stu-id="931a9-302">Prerequisites</span></span>

* <span data-ttu-id="931a9-303">[Azure PowerShell][azure-ps] 최신 버전을 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-303">Install the latest version of [Azure PowerShell][azure-ps].</span></span>

* <span data-ttu-id="931a9-304">이 참조 아키텍처를 배포하기 전에 구독의 할당량이 충분한지(최소 38코어) 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-304">Before deploying this reference architecture, verify that your subscription has sufficient quota—at least 38 cores.</span></span> <span data-ttu-id="931a9-305">충분하지 않으면 Azure Portal을 사용하여 할당량을 늘려 달라는 지원 요청을 제출합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-305">If you don't have enough, use the Azure portal to submit a support request for more quota.</span></span>

* <span data-ttu-id="931a9-306">이 배포의 비용을 예상하는 방법은 [Azure 가격 계산기][azure-pricing]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-306">To estimate the cost of this deployment, see the [Azure Pricing Calculator][azure-pricing].</span></span>

### <a name="deploy-the-reference-architecture"></a><span data-ttu-id="931a9-307">참조 아키텍처 배포</span><span class="sxs-lookup"><span data-stu-id="931a9-307">Deploy the reference architecture</span></span>

1.  <span data-ttu-id="931a9-308">[GitHub 리포지토리][github]를 로컬 컴퓨터에 다운로드 또는 복제합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-308">Download or clone the [GitHub repo][github] to your local computer.</span></span>

2.  <span data-ttu-id="931a9-309">PowerShell 창을 열고 `/sharepoint/sharepoint-2016` 폴더로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-309">Open a PowerShell window and navigate to the `/sharepoint/sharepoint-2016` folder.</span></span>

3.  <span data-ttu-id="931a9-310">다음 PowerShell 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-310">Run the following PowerShell command.</span></span> <span data-ttu-id="931a9-311">\<subscription id\>에는 Azure 구독 ID를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-311">For \<subscription id\>, use your Azure subscription ID.</span></span> <span data-ttu-id="931a9-312">\<location\>에서는 Azure 지역(`eastus` 또는 `westus`)을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-312">For \<location\>, specify an Azure region, such as `eastus` or `westus`.</span></span> <span data-ttu-id="931a9-313">\<mode\>에서는 `onprem`, `infrastructure`, `createvpn`, `workload`, `security` 또는 `all`을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-313">For \<mode\>, specify `onprem`, `infrastructure`, `createvpn`, `workload`, `security`, or `all`.</span></span>

    ```powershell
    .\Deploy-ReferenceArchitecture.ps1 <subscription id> <location> <mode>
    ```   
4. <span data-ttu-id="931a9-314">로그온하라는 메시지가 표시되면 Azure 계정에 로그온합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-314">When prompted, log on to your Azure account.</span></span> <span data-ttu-id="931a9-315">선택한 모드에 따라 배포 스크립트가 완료되는 데 여러 시간이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-315">The deployment scripts can take up to several hours to complete, depending on the mode you selected.</span></span>

5. <span data-ttu-id="931a9-316">배포가 완료되면 SQL Server Always On 가용성 그룹을 구성하는 스크립트를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-316">When the deployment completes, run the scripts to configure SQL Server Always On Availability Groups.</span></span> <span data-ttu-id="931a9-317">자세한 내용은 [readme][readme] 파일을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-317">See the [readme][readme] for details.</span></span>

> [!WARNING]
> <span data-ttu-id="931a9-318">매개 변수 파일은 다양한 위치에 하드 코드된 암호(`AweS0me@PW`)를 포함하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-318">The parameter files include a hard-coded password (`AweS0me@PW`) in various places.</span></span> <span data-ttu-id="931a9-319">배포하기 전에 이러한 값을 변경하세요.</span><span class="sxs-lookup"><span data-stu-id="931a9-319">Change these values before you deploy.</span></span>


## <a name="validate-the-deployment"></a><span data-ttu-id="931a9-320">배포 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="931a9-320">Validate the deployment</span></span>

<span data-ttu-id="931a9-321">이 참조 아키텍처를 배포하면 사용한 구독 아래에 다음과 같은 리소스 그룹이 나열됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-321">After you deploy this reference architecture, the following resource groups are listed under the Subscription that you used:</span></span>

| <span data-ttu-id="931a9-322">리소스 그룹</span><span class="sxs-lookup"><span data-stu-id="931a9-322">Resource Group</span></span>        | <span data-ttu-id="931a9-323">목적</span><span class="sxs-lookup"><span data-stu-id="931a9-323">Purpose</span></span>                                                                                         |
|-----------------------|-------------------------------------------------------------------------------------------------|
| <span data-ttu-id="931a9-324">ra-onprem-sp2016-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-324">ra-onprem-sp2016-rg</span></span>   | <span data-ttu-id="931a9-325">Active Directory로 시뮬레이션된 온-프레미스 네트워크, SharePoint 2016 네트워크로 페더레이션</span><span class="sxs-lookup"><span data-stu-id="931a9-325">Simulated on-premises network with Active Directory, federated with the SharePoint 2016 network</span></span> |
| <span data-ttu-id="931a9-326">ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-326">ra-sp2016-network-rg</span></span>  | <span data-ttu-id="931a9-327">SharePoint 배포를 지원하기 위한 인프라</span><span class="sxs-lookup"><span data-stu-id="931a9-327">Infrastructure to support SharePoint deployment</span></span>                                                 |
| <span data-ttu-id="931a9-328">ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-328">ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-329">SharePoint 및 지원 리소스</span><span class="sxs-lookup"><span data-stu-id="931a9-329">SharePoint and supporting resources</span></span>                                                             |

### <a name="validate-access-to-the-sharepoint-site-from-the-on-premises-network"></a><span data-ttu-id="931a9-330">온-프레미스 네트워크에서 SharePoint 사이트로의 액세스 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="931a9-330">Validate access to the SharePoint site from the on-premises network</span></span>

1. <span data-ttu-id="931a9-331">[Azure Portal][azure-portal]의 **리소스 그룹** 아래에서 `ra-onprem-sp2016-rg` 리소스 그룹을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-331">In the [Azure portal][azure-portal], under **Resource groups**, select the `ra-onprem-sp2016-rg` resource group.</span></span>

2. <span data-ttu-id="931a9-332">리소스 목록에서 `ra-adds-user-vm1`이라는 VM 리소스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-332">In the list of resources, select the VM resource named `ra-adds-user-vm1`.</span></span> 

3. <span data-ttu-id="931a9-333">[가상 머신에 연결][connect-to-vm]의 설명에 따라 VM을 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-333">Connect to the VM, as described in [Connect to virtual machine][connect-to-vm].</span></span> <span data-ttu-id="931a9-334">사용자 이름은 `\onpremuser`입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-334">The user name is `\onpremuser`.</span></span>

5.  <span data-ttu-id="931a9-335">VM에 대한 원격 연결이 설정되면 VM에서 브라우저를 열고 `http://portal.contoso.local`로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-335">When the remote connection to the VM is established, open a browser in the VM and navigate to `http://portal.contoso.local`.</span></span>

6.  <span data-ttu-id="931a9-336">**Windows 보안** 상자에서 사용자 이름으로 `contoso.local\testuser`를 사용하여 SharePoint 포털에 로그온합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-336">In the **Windows Security** box, log on to the SharePoint portal using `contoso.local\testuser` for the user name.</span></span>

<span data-ttu-id="931a9-337">이 로그온은 온-프레미스 네트워크에서 사용하는 Fabrikam.com 도메인에서 SharePoint 포털이 사용하는 contoso.local 도메인으로 터널링합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-337">This logon tunnels from the Fabrikam.com domain used by the on-premises network to the contoso.local domain used by the SharePoint portal.</span></span> <span data-ttu-id="931a9-338">SharePoint 사이트가 열리면 루트 데모 사이트가 보일 것입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-338">When the SharePoint site opens, you'll see the root demo site.</span></span>

### <a name="validate-jumpbox-access-to-vms-and-check-configuration-settings"></a><span data-ttu-id="931a9-339">VM에 대한 jumpbox 액세스의 유효성을 검사하고 구성 설정 확인</span><span class="sxs-lookup"><span data-stu-id="931a9-339">Validate jumpbox access to VMs and check configuration settings</span></span>

1.  <span data-ttu-id="931a9-340">[Azure Portal][azure-portal]의 **리소스 그룹** 아래에서 `ra-sp2016-network-rg` 리소스 그룹을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-340">In [Azure portal][azure-portal], under **Resource groups**, select the `ra-sp2016-network-rg` resource group.</span></span>

2.  <span data-ttu-id="931a9-341">리소스 목록에서 `ra-sp2016-jb-vm1`이라는 VM 리소스를 선택합니다. 이것이 jumpbox입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-341">In the list of resources, select the VM resource named `ra-sp2016-jb-vm1`, which is the jumpbox.</span></span>

3. <span data-ttu-id="931a9-342">[가상 머신에 연결][connect-to-vm]의 설명에 따라 VM을 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-342">Connect to the VM, as described in [Connect to virtual machine][connect-to-vm].</span></span> <span data-ttu-id="931a9-343">사용자 이름은 `testuser`입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-343">The user name is `testuser`.</span></span>

4.  <span data-ttu-id="931a9-344">jumpbox에 로그온한 후 jumpbox에서 RDP 세션을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-344">After you log onto the jumpbox, open an RDP session from the jumpbox.</span></span> <span data-ttu-id="931a9-345">VNet의 다른 VM에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-345">Connect to any other VMs in the VNet.</span></span> <span data-ttu-id="931a9-346">사용자 이름은 `testuser`입니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-346">The username is `testuser`.</span></span> <span data-ttu-id="931a9-347">원격 컴퓨터의 보안 인증서에 대한 경고는 무시해도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-347">You can ignore the warning about the remote computer's security certificate.</span></span>

5.  <span data-ttu-id="931a9-348">VM에 대한 원격 연결이 열리면 서버 관리자 같은 관리 도구를 사용하여 구성을 검토하고 변경 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-348">When the remote connection to the VM opens, review the configuration and make changes using the administrative tools such as Server Manager.</span></span>

<span data-ttu-id="931a9-349">다음 표는 배포된 VM을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="931a9-349">The following table shows the VMs that are deployed.</span></span> 

| <span data-ttu-id="931a9-350">리소스 이름</span><span class="sxs-lookup"><span data-stu-id="931a9-350">Resource Name</span></span>      | <span data-ttu-id="931a9-351">목적</span><span class="sxs-lookup"><span data-stu-id="931a9-351">Purpose</span></span>                                   | <span data-ttu-id="931a9-352">리소스 그룹</span><span class="sxs-lookup"><span data-stu-id="931a9-352">Resource Group</span></span>        | <span data-ttu-id="931a9-353">VM 이름</span><span class="sxs-lookup"><span data-stu-id="931a9-353">VM Name</span></span>                       |
|--------------------|-------------------------------------------|-----------------------|-------------------------------|
| <span data-ttu-id="931a9-354">Ra-sp2016-ad-vm1</span><span class="sxs-lookup"><span data-stu-id="931a9-354">Ra-sp2016-ad-vm1</span></span>   | <span data-ttu-id="931a9-355">Active Directory + DNS</span><span class="sxs-lookup"><span data-stu-id="931a9-355">Active Directory + DNS</span></span>                    | <span data-ttu-id="931a9-356">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-356">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="931a9-357">Ad1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-357">Ad1.contoso.local</span></span>             |
| <span data-ttu-id="931a9-358">Ra-sp2016-ad-vm2</span><span class="sxs-lookup"><span data-stu-id="931a9-358">Ra-sp2016-ad-vm2</span></span>   | <span data-ttu-id="931a9-359">Active Directory + DNS</span><span class="sxs-lookup"><span data-stu-id="931a9-359">Active Directory + DNS</span></span>                    | <span data-ttu-id="931a9-360">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-360">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="931a9-361">Ad2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-361">Ad2.contoso.local</span></span>             |
| <span data-ttu-id="931a9-362">Ra-sp2016-fsw-vm1</span><span class="sxs-lookup"><span data-stu-id="931a9-362">Ra-sp2016-fsw-vm1</span></span>  | <span data-ttu-id="931a9-363">SharePoint</span><span class="sxs-lookup"><span data-stu-id="931a9-363">SharePoint</span></span>                                | <span data-ttu-id="931a9-364">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-364">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="931a9-365">Fsw1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-365">Fsw1.contoso.local</span></span>            |
| <span data-ttu-id="931a9-366">Ra-sp2016-jb-vm1</span><span class="sxs-lookup"><span data-stu-id="931a9-366">Ra-sp2016-jb-vm1</span></span>   | <span data-ttu-id="931a9-367">Jumpbox</span><span class="sxs-lookup"><span data-stu-id="931a9-367">Jumpbox</span></span>                                   | <span data-ttu-id="931a9-368">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-368">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="931a9-369">Jb(로그온에 공용 IP 사용)</span><span class="sxs-lookup"><span data-stu-id="931a9-369">Jb (use public IP to log on)</span></span> |
| <span data-ttu-id="931a9-370">Ra-sp2016-sql-vm1</span><span class="sxs-lookup"><span data-stu-id="931a9-370">Ra-sp2016-sql-vm1</span></span>  | <span data-ttu-id="931a9-371">SQL Always On - 장애 조치(failover)</span><span class="sxs-lookup"><span data-stu-id="931a9-371">SQL Always On - Failover</span></span>                  | <span data-ttu-id="931a9-372">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-372">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="931a9-373">Sq1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-373">Sq1.contoso.local</span></span>             |
| <span data-ttu-id="931a9-374">Ra-sp2016-sql-vm2</span><span class="sxs-lookup"><span data-stu-id="931a9-374">Ra-sp2016-sql-vm2</span></span>  | <span data-ttu-id="931a9-375">SQL Always On - 기본</span><span class="sxs-lookup"><span data-stu-id="931a9-375">SQL Always On - Primary</span></span>                   | <span data-ttu-id="931a9-376">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-376">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="931a9-377">Sq2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-377">Sq2.contoso.local</span></span>             |
| <span data-ttu-id="931a9-378">Ra-sp2016-app-vm1</span><span class="sxs-lookup"><span data-stu-id="931a9-378">Ra-sp2016-app-vm1</span></span>  | <span data-ttu-id="931a9-379">SharePoint 2016 Application MinRole</span><span class="sxs-lookup"><span data-stu-id="931a9-379">SharePoint 2016 Application MinRole</span></span>       | <span data-ttu-id="931a9-380">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-380">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-381">App1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-381">App1.contoso.local</span></span>            |
| <span data-ttu-id="931a9-382">Ra-sp2016-app-vm2</span><span class="sxs-lookup"><span data-stu-id="931a9-382">Ra-sp2016-app-vm2</span></span>  | <span data-ttu-id="931a9-383">SharePoint 2016 Application MinRole</span><span class="sxs-lookup"><span data-stu-id="931a9-383">SharePoint 2016 Application MinRole</span></span>       | <span data-ttu-id="931a9-384">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-384">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-385">App2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-385">App2.contoso.local</span></span>            |
| <span data-ttu-id="931a9-386">Ra-sp2016-dch-vm1</span><span class="sxs-lookup"><span data-stu-id="931a9-386">Ra-sp2016-dch-vm1</span></span>  | <span data-ttu-id="931a9-387">SharePoint 2016 Distributed Cache MinRole</span><span class="sxs-lookup"><span data-stu-id="931a9-387">SharePoint 2016 Distributed Cache MinRole</span></span> | <span data-ttu-id="931a9-388">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-388">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-389">Dch1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-389">Dch1.contoso.local</span></span>            |
| <span data-ttu-id="931a9-390">Ra-sp2016-dch-vm2</span><span class="sxs-lookup"><span data-stu-id="931a9-390">Ra-sp2016-dch-vm2</span></span>  | <span data-ttu-id="931a9-391">SharePoint 2016 Distributed Cache MinRole</span><span class="sxs-lookup"><span data-stu-id="931a9-391">SharePoint 2016 Distributed Cache MinRole</span></span> | <span data-ttu-id="931a9-392">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-392">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-393">Dch2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-393">Dch2.contoso.local</span></span>            |
| <span data-ttu-id="931a9-394">Ra-sp2016-srch-vm1</span><span class="sxs-lookup"><span data-stu-id="931a9-394">Ra-sp2016-srch-vm1</span></span> | <span data-ttu-id="931a9-395">SharePoint 2016 Search MinRole</span><span class="sxs-lookup"><span data-stu-id="931a9-395">SharePoint 2016 Search MinRole</span></span>            | <span data-ttu-id="931a9-396">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-396">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-397">Srch1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-397">Srch1.contoso.local</span></span>           |
| <span data-ttu-id="931a9-398">Ra-sp2016-srch-vm2</span><span class="sxs-lookup"><span data-stu-id="931a9-398">Ra-sp2016-srch-vm2</span></span> | <span data-ttu-id="931a9-399">SharePoint 2016 Search MinRole</span><span class="sxs-lookup"><span data-stu-id="931a9-399">SharePoint 2016 Search MinRole</span></span>            | <span data-ttu-id="931a9-400">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-400">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-401">Srch2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-401">Srch2.contoso.local</span></span>           |
| <span data-ttu-id="931a9-402">Ra-sp2016-wfe-vm1</span><span class="sxs-lookup"><span data-stu-id="931a9-402">Ra-sp2016-wfe-vm1</span></span>  | <span data-ttu-id="931a9-403">SharePoint 2016 Web Front End MinRole</span><span class="sxs-lookup"><span data-stu-id="931a9-403">SharePoint 2016 Web Front End MinRole</span></span>     | <span data-ttu-id="931a9-404">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-404">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-405">Wfe1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-405">Wfe1.contoso.local</span></span>            |
| <span data-ttu-id="931a9-406">Ra-sp2016-wfe-vm2</span><span class="sxs-lookup"><span data-stu-id="931a9-406">Ra-sp2016-wfe-vm2</span></span>  | <span data-ttu-id="931a9-407">SharePoint 2016 Web Front End MinRole</span><span class="sxs-lookup"><span data-stu-id="931a9-407">SharePoint 2016 Web Front End MinRole</span></span>     | <span data-ttu-id="931a9-408">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="931a9-408">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="931a9-409">Wfe2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="931a9-409">Wfe2.contoso.local</span></span>            |


<span data-ttu-id="931a9-410">**_이 참조 아키텍처에 기여하신 분들_** &mdash;  Joe Davies, Bob Fox, Neil Hodgkinson, Paul Stork</span><span class="sxs-lookup"><span data-stu-id="931a9-410">**_Contributors to this reference architecture_** &mdash;  Joe Davies, Bob Fox, Neil Hodgkinson, Paul Stork</span></span>

<!-- links -->

[availability-set]: /azure/virtual-machines/windows/manage-availability
[azure-portal]: https://portal.azure.com
[azure-ps]: /powershell/azure/overview
[azure-pricing]: https://azure.microsoft.com/pricing/calculator/
[bastion-host]: https://en.wikipedia.org/wiki/Bastion_host
[create-availability-group]: https://technet.microsoft.com/library/mt793548(v=office.16).aspx
[connect-to-vm]: /azure/virtual-machines/windows/quick-create-portal#connect-to-virtual-machine
[github]: https://github.com/mspnp/reference-architectures
[hybrid-ra]: ../hybrid-networking/index.md
[hybrid-vpn-ra]: ../hybrid-networking/vpn.md
[load-balancer]: /azure/load-balancer/load-balancer-internal-overview
[managed-disks]: /azure/storage/storage-managed-disks-overview
[minroles]: https://technet.microsoft.com/library/mt346114(v=office.16).aspx
[nsg]: /azure/virtual-network/virtual-networks-nsg
[office-web-apps]: https://support.microsoft.com/help/3199955/office-web-apps-and-office-online-server-supportability-in-azure
[paired-regions]: /azure/best-practices-availability-paired-regions
[readme]: https://github.com/mspnp/reference-architectures/tree/master/sharepoint/sharepoint-2016
[resource-group]: /azure/azure-resource-manager/resource-group-overview
[quotas]: /azure/azure-subscription-service-limits
[sharepoint-accounts]: https://technet.microsoft.com/library/ee662513(v=office.16).aspx
[sharepoint-crawling]: https://technet.microsoft.com/library/dn535606(v=office.16).aspx
[sharepoint-dr]: https://technet.microsoft.com/library/ff628971(v=office.16).aspx
[sharepoint-hybrid]: https://aka.ms/sphybrid
[sharepoint-minrole]: https://technet.microsoft.com/library/mt743705(v=office.16).aspx
[sharepoint-ops]: https://technet.microsoft.com/library/cc262289(v=office.16).aspx
[sharepoint-reqs]: https://technet.microsoft.com/library/cc262485(v=office.16).aspx
[sharepoint-search]: https://technet.microsoft.com/library/dn342836.aspx
[sql-always-on]: /sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server
[sql-performance]: /virtual-machines/windows/sql/virtual-machines-windows-sql-performance
[sql-server-capacity-planning]: https://technet.microsoft.com/library/cc298801(v=office.16).aspx
[sql-quorum]: https://technet.microsoft.com/library/cc731739(v=ws.11).aspx
[sql-sharepoint-best-practices]: https://technet.microsoft.com/library/hh292622(v=office.16).aspx
[tempdb]: /sql/relational-databases/databases/tempdb-database
[virtual-networks-nsg]: /azure/virtual-network/virtual-networks-nsg
[visio-download]: https://archcenter.azureedge.net/cdn/Sharepoint-2016.vsdx
[vm-sizes-general]: /azure/virtual-machines/windows/sizes-general
[vm-sizes-memory]: /azure/virtual-machines/windows/sizes-memory
[windows-n-tier]: ../virtual-machines-windows/n-tier.md
