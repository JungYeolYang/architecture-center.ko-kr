---
title: 엔터프라이즈급 대화형 봇 빌드
description: Azure Bot Framework를 사용하는 엔터프라이즈급 대화형 봇(챗봇)을 빌드하는 방법입니다.
author: roalexan
ms.date: 01/24/2019
ms.topic: reference-architecture
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: azcat-ai
ms.openlocfilehash: 0f5de0eca6fbd35cca1a0e8443f363df09ffc6aa
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/20/2019
ms.locfileid: "58248698"
---
# <a name="enterprise-grade-conversational-bot"></a><span data-ttu-id="d745b-103">엔터프라이즈급 대화형 봇</span><span class="sxs-lookup"><span data-stu-id="d745b-103">Enterprise-grade conversational bot</span></span>

<span data-ttu-id="d745b-104">이 참조 아키텍처는 [Azure Bot Framework][bot-framework]를 사용하는 엔터프라이즈급 대화형 봇(챗봇)을 빌드하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-104">This reference architecture describes how to build an enterprise-grade conversational bot (chatbot) using the [Azure Bot Framework][bot-framework].</span></span> <span data-ttu-id="d745b-105">각 봇은 서로 다르지만, 알고 있어야 하는 몇 가지 일반적인 패턴, 워크플로 및 기술이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-105">Each bot is different, but there are some common patterns, workflows, and technologies to be aware of.</span></span> <span data-ttu-id="d745b-106">특히 봇에서 엔터프라이즈 워크로드를 처리하는 경우 핵심 기능 외에도 설계상의 여러 가지 고려 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-106">Especially for a bot to serve enterprise workloads, there are many design considerations beyond just the core functionality.</span></span> <span data-ttu-id="d745b-107">이 문서에서는 가장 필수적인 설계 측면을 다루며, 강력하고 안전하며 적극적으로 학습하는 봇을 빌드하는 데 필요한 도구를 소개합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-107">This article covers the most essential design aspects, and introduces the tools needed to build a robust, secure, and actively learning bot.</span></span>

<span data-ttu-id="d745b-108">[![아키텍처 다이어그램][0]][0]</span><span class="sxs-lookup"><span data-stu-id="d745b-108">[![Diagram of the architecture][0]][0]</span></span>

<span data-ttu-id="d745b-109">이 아키텍처에서 사용되는 모범 사례 유틸리티 예제는 완벽히 오픈 소스이며 [GitHub][git-repo-base]에서 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-109">The best practice utility samples used in this architecture are fully open-sourced and available on [GitHub][git-repo-base].</span></span> 

## <a name="architecture"></a><span data-ttu-id="d745b-110">아키텍처</span><span class="sxs-lookup"><span data-stu-id="d745b-110">Architecture</span></span>

<span data-ttu-id="d745b-111">여기에 표시된 아키텍처에서 사용하는 Azure 서비스는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-111">The architecture shown here uses the following Azure services.</span></span> <span data-ttu-id="d745b-112">사용자 고유의 봇에서 이러한 서비스를 모두 사용할 수 없거나 추가 서비스를 통합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-112">Your own bot may not use all of these services, or may incorporate additional services.</span></span>

### <a name="bot-logic-and-user-experience"></a><span data-ttu-id="d745b-113">봇 논리 및 사용자 환경</span><span class="sxs-lookup"><span data-stu-id="d745b-113">Bot logic and user experience</span></span>

- <span data-ttu-id="d745b-114">**[BFS][bot-framework-service]**(Bot Framework Service).</span><span class="sxs-lookup"><span data-stu-id="d745b-114">**[Bot Framework Service][bot-framework-service]** (BFS).</span></span> <span data-ttu-id="d745b-115">봇을 Cortana, Facebook Messenger, Slack과 같은 통신 앱에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-115">This service connects your bot to a communication app such as Cortana, Facebook Messenger, or Slack.</span></span> <span data-ttu-id="d745b-116">봇과 사용자 간의 통신을 용이하게 합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-116">It facilitates communication between your bot and the user.</span></span>
- <span data-ttu-id="d745b-117">**[Azure App Service][app-service]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-117">**[Azure App Service][app-service]**.</span></span> <span data-ttu-id="d745b-118">봇 애플리케이션 논리를 호스팅합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-118">The bot application logic is hosted in Azure App Service.</span></span>

### <a name="bot-cognition-and-intelligence"></a><span data-ttu-id="d745b-119">봇 인지 및 인텔리전스</span><span class="sxs-lookup"><span data-stu-id="d745b-119">Bot cognition and intelligence</span></span>

- <span data-ttu-id="d745b-120">**[LUIS][luis]**(Language Understanding).</span><span class="sxs-lookup"><span data-stu-id="d745b-120">**[Language Understanding][luis]** (LUIS).</span></span> <span data-ttu-id="d745b-121">[Azure Cognativity Services][cognitive-services]의 일부인 LUIS를 사용하면 봇에서 사용자 의도와 엔터티를 식별하여 자연어를 인식할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-121">Part of [Azure Cognitive Services][cognitive-services], LUIS enables your bot to understand natural language by identifying user intents and entities.</span></span>
- <span data-ttu-id="d745b-122">**[Azure Search][search]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-122">**[Azure Search][search]**.</span></span> <span data-ttu-id="d745b-123">빠르게 검색할 수 있는 문서 인덱스를 제공하는 관리형 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-123">Search is a managed service that provides a quick searchable document index.</span></span>
- <span data-ttu-id="d745b-124">**[QnA Maker][qna-maker]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-124">**[QnA Maker][qna-maker]**.</span></span> <span data-ttu-id="d745b-125">QnA Maker는 데이터 위에 대화형 질문 및 답변 레이어를 만드는 클라우드 기반 API 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-125">QnA Maker is a cloud-based API service that creates a conversational, question-and-answer layer over your data.</span></span> <span data-ttu-id="d745b-126">일반적으로 FAQ와 같은 반정형 콘텐츠가 로드됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-126">Typically, it's loaded with semi-structured content such as FAQs.</span></span> <span data-ttu-id="d745b-127">이 서비스를 사용하여 자연어 질문에 답변하기 위한 기술 자료를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-127">Use it to create a knowledge base for answering natural-language questions.</span></span>
- <span data-ttu-id="d745b-128">**[웹앱][webapp]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-128">**[Web app][webapp]**.</span></span> <span data-ttu-id="d745b-129">기존 서비스에서 제공하지 않는 AI 솔루션이 봇에 필요한 경우 사용자 지정 AI를 구현하여 웹앱으로 호스팅할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-129">If your bot needs AI solutions not provided by an existing service, you can implement your own custom AI and host it as a web app.</span></span> <span data-ttu-id="d745b-130">이렇게 하면 봇에서 호출할 수 있는 웹 엔드포인트가 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-130">This provides a web endpoint for your bot to call.</span></span>

### <a name="data-ingestion"></a><span data-ttu-id="d745b-131">데이터 수집</span><span class="sxs-lookup"><span data-stu-id="d745b-131">Data ingestion</span></span>

<span data-ttu-id="d745b-132">봇은 수집하고 준비해야 하는 원시 데이터를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-132">The bot will rely on raw data that must be ingested and prepared.</span></span> <span data-ttu-id="d745b-133">이 프로세스를 오케스트레이션하려면 다음 옵션 중 하나를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-133">Consider any of the following options to orchestrate this process:</span></span>

- <span data-ttu-id="d745b-134">**[Azure Data Factory][data-factory]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-134">**[Azure Data Factory][data-factory]**.</span></span> <span data-ttu-id="d745b-135">데이터 이동 및 데이터 변환을 오케스트레이션하고 자동화합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-135">Data Factory orchestrates and automates data movement and data transformation.</span></span>
- <span data-ttu-id="d745b-136">**[Logic Apps][logic-apps]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-136">**[Logic Apps][logic-apps]**.</span></span> <span data-ttu-id="d745b-137">애플리케이션, 데이터 및 서비스를 통합하는 워크플로를 작성하기 위한 서버리스 플랫폼입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-137">Logic Apps is a serverless platform for building workflows that integrate applications, data, and services.</span></span> <span data-ttu-id="d745b-138">Logic Apps는 Office 365를 포함한 많은 애플리케이션에 대한 데이터 커넥터를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-138">Logic Apps provides data connectors for many applications, including Office 365.</span></span>
- <span data-ttu-id="d745b-139">**[Azure Functions][functions]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-139">**[Azure Functions][functions]**.</span></span> <span data-ttu-id="d745b-140">Azure Functions를 사용하여 [트리거][functions-triggers](예: 문서를 Blob 스토리지 또는 Cosmos DB에 추가할 때마다)에서 호출되는 사용자 지정 서버리스 코드를 작성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-140">You can use Azure Functions to write custom serverless code that is invoked by a [trigger][functions-triggers] &mdash; for example, whenever a document is added to blob storage or Cosmos DB.</span></span>

### <a name="logging-and-monitoring"></a><span data-ttu-id="d745b-141">로깅 및 모니터링</span><span class="sxs-lookup"><span data-stu-id="d745b-141">Logging and monitoring</span></span>

- <span data-ttu-id="d745b-142">**[Application Insights][app-insights]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-142">**[Application Insights][app-insights]**.</span></span> <span data-ttu-id="d745b-143">Application Insights를 사용하여 모니터링, 진단 및 분석 목적으로 봇의 애플리케이션 메트릭을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-143">Use Application Insights to log the bot's application metrics for monitoring, diagnostic, and analytical purposes.</span></span>
- <span data-ttu-id="d745b-144">**[Azure Blob Storage][blob]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-144">**[Azure Blob Storage][blob]**.</span></span> <span data-ttu-id="d745b-145">Blob Storage는 대량의 비정형 데이터를 저장하도록 최적화되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-145">Blob storage is optimized for storing massive amounts of unstructured data.</span></span>
- <span data-ttu-id="d745b-146">**[Cosmos DB][cosmosdb]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-146">**[Cosmos DB][cosmosdb]**.</span></span> <span data-ttu-id="d745b-147">Cosmos DB는 대화와 같은 반정형 로그 데이터를 저장하는 데 적합합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-147">Cosmos DB is well-suited for storing semi-structured log data such as conversations.</span></span>
- <span data-ttu-id="d745b-148">**[Power BI][power-bi]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-148">**[Power BI][power-bi]**.</span></span> <span data-ttu-id="d745b-149">Power BI를 사용하여 봇에 대한 모니터링 대시보드를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-149">Use Power BI to create monitoring dashboards for your bot.</span></span>

### <a name="security-and-governance"></a><span data-ttu-id="d745b-150">보안 및 거버넌스</span><span class="sxs-lookup"><span data-stu-id="d745b-150">Security and governance</span></span>

- <span data-ttu-id="d745b-151">**[Azure AD][aad]**(Azure Active Directory).</span><span class="sxs-lookup"><span data-stu-id="d745b-151">**[Azure Active Directory][aad]** (Azure AD).</span></span> <span data-ttu-id="d745b-152">사용자가 Azure AD와 같은 ID 공급자를 통해 인증합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-152">Users will authenticate through an identity provider such as Azure AD.</span></span> <span data-ttu-id="d745b-153">Bot Service는 인증 흐름과 OAuth 토큰 관리를 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-153">The Bot Service handles the authentication flow and OAuth token management.</span></span> <span data-ttu-id="d745b-154">[Azure Bot Service를 통해 봇에 인증 추가][bot-authentication]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d745b-154">See [Add authentication to your bot via Azure Bot Service][bot-authentication].</span></span>
- <span data-ttu-id="d745b-155">**[Azure Key Vault][key-vault]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-155">**[Azure Key Vault][key-vault]**.</span></span> <span data-ttu-id="d745b-156">Key Vault를 사용하여 자격 증명 및 기타 비밀을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-156">Store credentials and other secrets using Key Vault.</span></span>

### <a name="quality-assurance-and-enhancements"></a><span data-ttu-id="d745b-157">품질 보증 및 향상</span><span class="sxs-lookup"><span data-stu-id="d745b-157">Quality assurance and enhancements</span></span>

- <span data-ttu-id="d745b-158">**[Azure DevOps][devops]**.</span><span class="sxs-lookup"><span data-stu-id="d745b-158">**[Azure DevOps][devops]**.</span></span> <span data-ttu-id="d745b-159">원본 제어, 빌드, 테스트, 배포 및 프로젝트 추적을 포함한 다양한 앱 관리 서비스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-159">Provides many services for app management, including source control, building, testing, deployment, and project tracking.</span></span>
- <span data-ttu-id="d745b-160">**[VS Code][vscode]**. 앱 개발용 간단한 코드 편집기입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-160">**[VS Code][vscode]** A lightweight code editor for app development.</span></span> <span data-ttu-id="d745b-161">비슷한 기능을 갖춘 다른 IDE를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-161">You can use any other IDE with similar features.</span></span>

## <a name="design-considerations"></a><span data-ttu-id="d745b-162">디자인 고려 사항</span><span class="sxs-lookup"><span data-stu-id="d745b-162">Design considerations</span></span>

<span data-ttu-id="d745b-163">대화형 봇은 더 높은 수준에서 봇 기능("뇌")과 일단의 주변 요구 사항("몸")으로 나눌 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-163">At a high level, a conversational bot can be divided into the bot functionality (the "brain") and a set of surrounding requirements (the "body").</span></span> <span data-ttu-id="d745b-164">뇌는 봇 논리와 ML 기능을 포함한 도메인 인식 구성 요소를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-164">The brain includes the domain-aware components, including the bot logic and ML capabilities.</span></span> <span data-ttu-id="d745b-165">다른 구성 요소는 도메인에 구애받지 않고 CI/CD, 품질 보증 및 보안과 같은 비기능적 요구 사항을 해결합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-165">Other components are domain agnostic and address non-functional requirements such as CI/CD, quality assurance, and security.</span></span>

![봇 기능의 논리 다이어그램](./_images/conversational-bot-logical.png)

<span data-ttu-id="d745b-167">이 아키텍처의 세부 정보를 살펴보기 전에 먼저 설계의 각 하위 구성 요소를 통한 데이터 흐름부터 시작해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-167">Before getting into the specifics of this architecture, let's start with the data flow through each subcomponent of the design.</span></span> <span data-ttu-id="d745b-168">데이터 흐름에는 사용자 시작 및 시스템 시작 데이터 흐름이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-168">The data flow includes user-initiated and system-initiated data flows.</span></span>

### <a name="user-message-flow"></a><span data-ttu-id="d745b-169">사용자 메시지 흐름</span><span class="sxs-lookup"><span data-stu-id="d745b-169">User message flow</span></span>

<span data-ttu-id="d745b-170">**인증**.</span><span class="sxs-lookup"><span data-stu-id="d745b-170">**Authentication**.</span></span> <span data-ttu-id="d745b-171">사용자는 봇과의 통신 채널에서 제공되는 모든 메커니즘을 사용하여 자신을 인증함으로써 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-171">Users start by authenticating themselves using whatever mechanism is provided by their channel of communication with the bot.</span></span> <span data-ttu-id="d745b-172">봇 프레임워크는 Cortana, Microsoft Teams, Facebook Messenger, Kik 및 Slack을 포함한 다양한 통신 채널을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-172">The bot framework supports many communication channels, including Cortana, Microsoft Teams, Facebook Messenger, Kik, and Slack.</span></span> <span data-ttu-id="d745b-173">채널 목록은 [채널에 봇 연결](/azure/bot-service/bot-service-manage-channels)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d745b-173">For a list of channels, see [Connect a bot to channels](/azure/bot-service/bot-service-manage-channels).</span></span> <span data-ttu-id="d745b-174">Azure Bot Service를 사용하여 봇을 만들면 [웹 채팅][webchat] 채널이 자동으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-174">When you create a bot with Azure Bot Service, the [Web Chat][webchat] channel is automatically configured.</span></span> <span data-ttu-id="d745b-175">이 채널을 통해 사용자는 웹 페이지에서 봇과 직접 상호 작용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-175">This channel allows users to interact with your bot directly in a web page.</span></span> <span data-ttu-id="d745b-176">또한 [직접 회선](/azure/bot-service/bot-service-channel-connect-directline) 채널을 사용하여 봇을 사용자 지정 앱에 연결할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-176">You can also connect the bot to a custom app by using the [Direct Line](/azure/bot-service/bot-service-channel-connect-directline) channel.</span></span> <span data-ttu-id="d745b-177">사용자의 ID는 역할 기반 액세스 제어와 맞춤형 콘텐츠를 제공하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-177">The user's identity is used to provide role-based access control, as well as to serve personalized content.</span></span>

<span data-ttu-id="d745b-178">**사용자 메시지**.</span><span class="sxs-lookup"><span data-stu-id="d745b-178">**User message**.</span></span> <span data-ttu-id="d745b-179">인증되면 사용자는 봇에 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-179">Once authenticated, the user sends a message to the bot.</span></span> <span data-ttu-id="d745b-180">봇에서 메시지를 읽고 이를 [LUIS](/azure/cognitive-services/luis/)와 같은 자연어 인식 서비스로 라우팅합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-180">The bot reads the message and routes it to a natural language understanding service such as [LUIS](/azure/cognitive-services/luis/).</span></span> <span data-ttu-id="d745b-181">이 단계에서는 **의도**(사용자가 수행하려는 작업)와 **엔터티**(사용자가 관심 있는 항목)를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-181">This step gets the **intents** (what the user wants to do) and **entities** (what things the user is interested in).</span></span> <span data-ttu-id="d745b-182">그런 다음, 봇에서 [Azure Search][search](문서 검색용), [QnA Maker](https://www.qnamaker.ai/)(FAQ용) 또는 사용자 지정 기술 자료와 같은 정보를 제공하는 서비스에 전달하는 쿼리를 작성합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-182">The bot then builds a query that it passes to a service that serves information, such as [Azure Search][search] for document retrieval, [QnA Maker](https://www.qnamaker.ai/) for FAQs, or a custom knowledge base.</span></span> <span data-ttu-id="d745b-183">봇은 이러한 결과를 사용하여 응답을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-183">The bot uses these results to construct a response.</span></span> <span data-ttu-id="d745b-184">지정된 쿼리에 대한 최상의 결과를 제공하기 위해 봇에서 이러한 원격 서비스를 전후로 여러 번 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-184">To give the best result for a  given query, the bot might make several back-and-forth calls to these remote services.</span></span>

<span data-ttu-id="d745b-185">**응답**.</span><span class="sxs-lookup"><span data-stu-id="d745b-185">**Response**.</span></span> <span data-ttu-id="d745b-186">이 시점에서 봇은 최적의 응답을 결정하여 사용자에게 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-186">At this point, the bot has determined the best response and sends it to the user.</span></span> <span data-ttu-id="d745b-187">가장 일치하는 답변의 신뢰도 점수가 낮으면 응답은 명확성에 대한 질문이거나 봇에서 적절하게 회신할 수 없다는 답신일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-187">If the confidence score of the best-matched answer is low, the response might be a disambiguation question or an acknowledgement that the bot could not reply adequately.</span></span>

<span data-ttu-id="d745b-188">**로깅**</span><span class="sxs-lookup"><span data-stu-id="d745b-188">**Logging**.</span></span> <span data-ttu-id="d745b-189">사용자 요청을 받거나 응답을 보내면 모든 대화 작업이 로깅 저장소에 기록되고 성능 메트릭 및 외부 서비스의 일반적인 오류도 기록되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-189">When a user request is received or a response is sent, all conversation actions should be logged to a logging store, along with performance metrics and general errors from external services.</span></span> <span data-ttu-id="d745b-190">이러한 로그는 나중에 문제를 진단하고 시스템을 향상시킬 때 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-190">These logs will be useful later when diagnosing issues and improving the system.</span></span>

<span data-ttu-id="d745b-191">**피드백**.</span><span class="sxs-lookup"><span data-stu-id="d745b-191">**Feedback**.</span></span> <span data-ttu-id="d745b-192">또 다른 좋은 방법은 사용자 피드백과 만족도 점수를 수집하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-192">Another good practice is to collect user feedback and satisfaction scores.</span></span> <span data-ttu-id="d745b-193">봇의 최종 응답에 대한 후속 작업으로, 봇에서 사용자가 회신에 대한 자신의 만족도를 평가하도록 요구해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-193">As a follow up to the bot's final response, the bot should ask the user to rate their satisfaction with the reply.</span></span> <span data-ttu-id="d745b-194">피드백은 자연어 인식에 대한 콜드 시작 문제를 해결하고 응답의 정확도를 지속적으로 향상시키는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-194">Feedback can help you to solve the cold start problem of natural language understanding, and continually improve the accuracy of responses.</span></span>

### <a name="system-data-flow"></a><span data-ttu-id="d745b-195">시스템 데이터 흐름</span><span class="sxs-lookup"><span data-stu-id="d745b-195">System Data Flow</span></span>

<span data-ttu-id="d745b-196">**ETL**.</span><span class="sxs-lookup"><span data-stu-id="d745b-196">**ETL**.</span></span> <span data-ttu-id="d745b-197">봇은 백 엔드의 ETL 프로세스에서 원시 데이터로부터 추출된 정보와 지식을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-197">The bot relies on information and knowledge extracted from the raw data by an ETL process in the backend.</span></span> <span data-ttu-id="d745b-198">이 데이터는 정형(SQL 데이터베이스), 반정형(CRM 시스템, FAQ) 또는 비정형(Word 문서, PDF, 웹 로그)일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-198">This data might be structured (SQL database), semi-structured (CRM system, FAQs), or unstructured (Word documents, PDFs, web logs).</span></span> <span data-ttu-id="d745b-199">ETL 하위 시스템에서는 고정된 일정에 따라 데이터를 추출합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-199">An ETL subsystem extracts the data on a fixed schedule.</span></span> <span data-ttu-id="d745b-200">콘텐츠는 변환되고 보강된 다음, Cosmos DB 또는 Azure Blob Storage와 같은 중간 데이터 저장소에 로드됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-200">The content is transformed and enriched, then loaded into an intermediary data store, such as Cosmos DB or Azure Blob Storage.</span></span>

<span data-ttu-id="d745b-201">그런 다음, 중간 저장소의 데이터는 문서 검색을 위해 Azure Search에 인덱싱되고, QnA Maker에 로드되어 질문 및 대답 쌍을 만들거나 비정형 텍스트 처리를 위해 사용자 지정 웹앱에 로드됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-201">Data in the intermediary store is then indexed into Azure Search for document retrieval, loaded into QnA Maker to create question and answer pairs, or loaded into a custom web app for unstructured text processing.</span></span> <span data-ttu-id="d745b-202">이 데이터는 의도 및 엔터티 추출을 위해 LUIS 모델을 학습하는 데도 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-202">The data is also used to train a LUIS model for intent and entity extraction.</span></span>

<span data-ttu-id="d745b-203">**품질 보증**.</span><span class="sxs-lookup"><span data-stu-id="d745b-203">**Quality assurance**.</span></span> <span data-ttu-id="d745b-204">대화 로그는 버그를 진단 및 수정하고, 봇을 사용하는 방법에 대한 인사이트를 제공하고, 전반적인 성능을 추적하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-204">The conversation logs are used to diagnose and fix bugs, provide insight into how the bot is being used, and track overall performance.</span></span> <span data-ttu-id="d745b-205">피드백 데이터는 AI 모델을 재학습하여 봇 성능을 향상시키는 데 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-205">Feedback data is useful for retraining the AI models to improve bot performance.</span></span>

## <a name="building-a-bot"></a><span data-ttu-id="d745b-206">봇 빌드</span><span class="sxs-lookup"><span data-stu-id="d745b-206">Building a bot</span></span>

<span data-ttu-id="d745b-207">한 줄의 코드를 작성하기 전에 기능 사양을 작성해야 하므로 개발 팀은 봇에서 수행할 작업을 명확히 파악하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-207">Before you even write a single line of code, it's important to write a functional specification so the development team has a clear idea of what the bot is expected to do.</span></span> <span data-ttu-id="d745b-208">사양에는 다양한 기술 자료 도메인에 있는 사용자 입력 및 예상되는 봇 응답에 대한 상당히 포괄적인 목록이 포함되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-208">The specification should include a reasonably comprehensive list of user inputs and expected bot responses in various knowledge domains.</span></span> <span data-ttu-id="d745b-209">생명력 있는 이 문서는 봇을 개발하고 테스트하는 데 있어 매우 유용한 지침이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-209">This living document will be an invaluable guide for developing and testing your bot.</span></span>

### <a name="ingest-data"></a><span data-ttu-id="d745b-210">데이터 수집</span><span class="sxs-lookup"><span data-stu-id="d745b-210">Ingest data</span></span>

<span data-ttu-id="d745b-211">다음으로, 봇에서 사용자와 지능적으로 상호 작용할 수 있도록 하는 데이터 원본을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-211">Next, identify the data sources that will enable the bot to interact intelligently with users.</span></span> <span data-ttu-id="d745b-212">앞에서 설명한 대로 이러한 데이터 원본에는 정형, 반정형 또는 비정형 데이터 세트가 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-212">As mentioned earlier, these data sources could contain structured, semi-structured, or unstructured data sets.</span></span> <span data-ttu-id="d745b-213">시작할 때 Cosmos DB 또는 Azure Storage와 같은 중앙 저장소에 데이터의 일회성 복사본을 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-213">When you're getting started, a good approach is to make a one-off copy of the data to a central store, such as Cosmos DB or Azure Storage.</span></span> <span data-ttu-id="d745b-214">진행 중에 이 데이터를 최신 상태로 유지하기 위해 자동화된 데이터 수집 파이프라인을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-214">As you progress, you should create an automated data ingestion pipeline to keep this data current.</span></span> <span data-ttu-id="d745b-215">자동화된 수집 파이프라인에 대한 옵션에는 Data Factory, Functions 및 Logic Apps가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-215">Options for an automated ingestion pipeline include Data Factory, Functions, and Logic Apps.</span></span> <span data-ttu-id="d745b-216">데이터 저장소와 스키마에 따라 이러한 방법을 조합하여 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-216">Depending on the data stores and the schemas, you might use a combination of these approaches.</span></span>

<span data-ttu-id="d745b-217">시작할 때 Azure Portal을 사용하여 Azure 리소스를 수동으로 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-217">As you get started, it's reasonable to use the Azure portal to manually create Azure resources.</span></span> <span data-ttu-id="d745b-218">나중에 이러한 리소스의 배포를 자동화하는 데 있어 더 많은 요소를 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-218">Later on, you should put more thought into automating the deployment of these resources.</span></span>

### <a name="core-bot-logic-and-ux"></a><span data-ttu-id="d745b-219">핵심 봇 논리 및 UX</span><span class="sxs-lookup"><span data-stu-id="d745b-219">Core bot logic and UX</span></span>

<span data-ttu-id="d745b-220">사양과 일부 데이터가 있으면 이제 봇을 실제로 구현할 차례입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-220">Once you have a specification and some data, it's time to start making your bot into reality.</span></span> <span data-ttu-id="d745b-221">핵심 봇 논리에 집중하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-221">Let's focus on the core bot logic.</span></span> <span data-ttu-id="d745b-222">이 논리는 라우팅 논리, 명확성 논리 및 로깅을 포함하여 사용자와의 대화를 처리하는 코드입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-222">This is the code that handles the conversation with the user, including the routing logic, disambiguation logic, and logging.</span></span> <span data-ttu-id="d745b-223">먼저 다음 항목을 포함하여 [Bot Framework][bot-framework]에 대해 숙지합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-223">Start by familiarizing yourself with the [Bot Framework][bot-framework], including:</span></span>

- <span data-ttu-id="d745b-224">프레임워크에서 사용되는 기본 개념과 용어(특히 [변환], [턴] 및 [활동])</span><span class="sxs-lookup"><span data-stu-id="d745b-224">Basic concepts and terminology used in the framework, especially [conversations], [turns], and [activities].</span></span>
- <span data-ttu-id="d745b-225">봇과 채널 간의 네트워킹을 처리하는 [Bot 커넥터 서비스](/azure/bot-service/rest-api/bot-framework-rest-connector-quickstart)</span><span class="sxs-lookup"><span data-stu-id="d745b-225">The [Bot Connector service](/azure/bot-service/rest-api/bot-framework-rest-connector-quickstart), which handles the networking between the bot and your channels.</span></span>
- <span data-ttu-id="d745b-226">대화 [상태](/azure/bot-service/bot-builder-concept-state)가 메모리 내 또는 더 효율적으로 저장소(예: Azure Blob Storage 또는 Azure Cosmos DB)에서 유지되는 방법</span><span class="sxs-lookup"><span data-stu-id="d745b-226">How conversation [state](/azure/bot-service/bot-builder-concept-state) is maintained, either in memory or better yet in a store such as Azure Blob Storage or Azure Cosmos DB.</span></span>
- <span data-ttu-id="d745b-227">[미들웨어](/azure/bot-service/bot-builder-basics#middleware) 및 이를 사용하여 외부 서비스(예: Cognativity Services)와 봇을 후크하는 방법</span><span class="sxs-lookup"><span data-stu-id="d745b-227">[Middleware](/azure/bot-service/bot-builder-basics#middleware), and how it can be used to hook up your bot with external services, such as Cognitive Services.</span></span>

<span data-ttu-id="d745b-228">풍부한 [사용자 환경](/azure/bot-service/bot-service-design-user-experience)에는 여러 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-228">For a rich [user experience](/azure/bot-service/bot-service-design-user-experience), there are many options.</span></span>

- <span data-ttu-id="d745b-229">[카드](/azure/bot-service/bot-service-design-user-experience#cards)를 사용하여 단추, 이미지, 캐러셀 및 메뉴를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-229">You can use [cards](/azure/bot-service/bot-service-design-user-experience#cards) to include buttons, images, carousels, and menus.</span></span>
- <span data-ttu-id="d745b-230">봇에서 음성을 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-230">A bot can support speech.</span></span>
- <span data-ttu-id="d745b-231">봇을 앱 또는 웹 사이트에 포함하고 이를 호스팅하는 앱의 기능을 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-231">You can even embed your bot in an app or website and use the capabilities of the app hosting it.</span></span>

<span data-ttu-id="d745b-232">시작하려면 사용 가능한 C# 및 Node.js 템플릿에서 선택하여 [Azure Bot Service](/azure/bot-service/bot-service-quickstart)를 통해 봇을 온라인으로 빌드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-232">To get started, you can build your bot online using the [Azure Bot Service](/azure/bot-service/bot-service-quickstart), selecting from the available C# and Node.js templates.</span></span> <span data-ttu-id="d745b-233">그러나 봇이 점점 정교해짐에 따라 봇을 로컬로 만든 다음, 웹에 배포해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-233">As your bot gets more sophisticated, however, you will need to create your bot locally then deploy it to the web.</span></span> <span data-ttu-id="d745b-234">Visual Studio 또는 Visual Studio Code와 같은 IDE 및 프로그래밍 언어를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-234">Choose an IDE, such as Visual Studio or Visual Studio Code, and a programming language.</span></span> <span data-ttu-id="d745b-235">SDK에서 사용할 수 있는 언어는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-235">SDKs are available for the following languages:</span></span>

- [<span data-ttu-id="d745b-236">C#</span><span class="sxs-lookup"><span data-stu-id="d745b-236">C#</span></span>](https://github.com/microsoft/botbuilder-dotnet)
- [<span data-ttu-id="d745b-237">JavaScript</span><span class="sxs-lookup"><span data-stu-id="d745b-237">JavaScript</span></span>](https://github.com/microsoft/botbuilder-js)
- <span data-ttu-id="d745b-238">[Java](https://github.com/microsoft/botbuilder-java)(미리 보기)</span><span class="sxs-lookup"><span data-stu-id="d745b-238">[Java](https://github.com/microsoft/botbuilder-java) (preview)</span></span>
- <span data-ttu-id="d745b-239">[Python](https://github.com/microsoft/botbuilder-python)(미리 보기)</span><span class="sxs-lookup"><span data-stu-id="d745b-239">[Python](https://github.com/microsoft/botbuilder-python) (preview)</span></span>

<span data-ttu-id="d745b-240">시작 지점으로 Azure Bot Service를 사용하여 만든 봇에 대한 소스 코드를 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-240">As a starting point, you can download the source code for the bot you created using the Azure Bot Service.</span></span> <span data-ttu-id="d745b-241">또한 간단한 에코 봇에서 다양한 AI 서비스와 통합될 수 있는 더 정교한 봇까지 다양한 [샘플 코드](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md)도 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-241">You can also find [sample code](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md), from simple echo bots to more sophisticated bots that integrate with various AI services.</span></span>

### <a name="add-smarts-to-your-bot"></a><span data-ttu-id="d745b-242">봇에 스마트 기능 추가</span><span class="sxs-lookup"><span data-stu-id="d745b-242">Add smarts to your bot</span></span>

<span data-ttu-id="d745b-243">잘 정의된 명령 목록이 있는 간단한 봇의 경우 규칙 기반 접근 방식을 사용하여 정규식을 통해 사용자 입력을 구문 분석할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-243">For a simple bot with a well-defined list of commands, you might be able to use a rules-based approach to parse the user input via regex.</span></span> <span data-ttu-id="d745b-244">여기에는 결정적이고 이해할 수 있는 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-244">This has the advantage of being deterministic and understandable.</span></span> <span data-ttu-id="d745b-245">그러나 봇에서 더 향상된 자연어 메시지의 의도와 엔터티를 인식해야 하는 경우 도움이 될 수 있는 AI 서비스가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-245">However, when your bot needs to understand the intents and entities of a more natural-language message, there are AI services that can help.</span></span>

- <span data-ttu-id="d745b-246">LUIS는 사용자 의도와 엔터티를 인식하도록 특별히 설계되었습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-246">LUIS is specifically designed to understand user intents and entities.</span></span> <span data-ttu-id="d745b-247">관련 [사용자 입력](/azure/cognitive-services/luis/luis-concept-utterance)과 원하는 응답을 적절한 크기로 수집하여 학습하면 사용자가 지정한 메시지에 대한 의도와 엔터티가 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-247">You train it with a moderately sized collection of relevant [user input](/azure/cognitive-services/luis/luis-concept-utterance) and desired responses, and it returns the intents and entities for a user's given message.</span></span>

- <span data-ttu-id="d745b-248">Azure Search는 LUIS와 함께 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-248">Azure Search can work alongside LUIS.</span></span> <span data-ttu-id="d745b-249">Search를 사용하면 모든 관련 데이터에 대해 검색 가능한 인덱스를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-249">Using Search, you create searchable indexes over all relevant data.</span></span> <span data-ttu-id="d745b-250">봇은 LUIS에서 추출한 엔터티에 대해 이러한 인덱스를 쿼리합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-250">The bot queries these indexes for the entities extracted by LUIS.</span></span> <span data-ttu-id="d745b-251">또한 Azure Search는 [동의어][synonyms]를 지원하여 올바른 단어 매핑의 범위를 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-251">Azure Search also supports [synonyms][synonyms], which can widen the net of correct word mappings.</span></span>

- <span data-ttu-id="d745b-252">QnA Maker는 지정된 질문에 대한 답변을 반환하도록 설계된 또 다른 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-252">QnA Maker is another service that is designed to return answers for given questions.</span></span> <span data-ttu-id="d745b-253">일반적으로 FAQ와 같은 반정형 데이터를 학습합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-253">It's typically trained over semi-structured data such as FAQs.</span></span>

<span data-ttu-id="d745b-254">봇은 다른 AI 서비스를 사용하여 사용자 환경을 더욱 풍부하게 강화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-254">Your bot can use other AI services to further enrich the user experience.</span></span> <span data-ttu-id="d745b-255">[미리 빌드된 AI 서비스의 Cognitive Services 제품군](https://azure.microsoft.com/en-us/services/cognitive-services/?v=18.44a)(LUIS 및 QnA Maker 포함)에는 비전, 음성, 언어, 검색 및 위치 서비스가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-255">The [Cognitive Services suite of pre-built AI](https://azure.microsoft.com/en-us/services/cognitive-services/?v=18.44a) services (which includes LUIS and QnA Maker) has services for vision, speech, language, search, and location.</span></span> <span data-ttu-id="d745b-256">언어 번역, 맞춤법 검사, 감정 분석, OCR, 위치 인식 및 콘텐츠 조정과 같은 기능을 빠르게 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-256">You can quickly add functionality such as language translation, spell checking, sentiment analysis, OCR, location awareness, and content moderation.</span></span> <span data-ttu-id="d745b-257">이러한 서비스는 미들웨어 모듈로 봇에 연결되어 더 자연스럽고 지능적으로 사용자와 상호 작용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-257">These services can be wired up as middleware modules in your bot to interact more naturally and intelligently with the user.</span></span>

<span data-ttu-id="d745b-258">또 다른 옵션은 사용자 고유의 사용자 지정 AI 서비스를 통합하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-258">Another option is to integrate your own custom AI service.</span></span> <span data-ttu-id="d745b-259">이 방법은 더 복잡하지만 기계 학습 알고리즘, 학습 및 모델 측면에서 완벽한 유연성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-259">This approach is more complex, but gives you complete flexibility in terms of the machine learning algorithm, training, and model.</span></span> <span data-ttu-id="d745b-260">예를 들어 [LDA][lda]와 같은 사용자 고유의 토픽 모델링 및 알고리즘을 구현하여 비슷하거나 관련된 문서를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-260">For example, you could implement your own topic modeling and use algorithm such as [LDA][lda] to find similar or relevant documents.</span></span> <span data-ttu-id="d745b-261">사용자 지정 AI 솔루션을 웹 서비스 엔드포인트로 공개하고 핵심 봇 논리에서 엔드포인트를 호출하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-261">A good approach is to expose your custom AI solution as a web service endpoint, and call the endpoint from the core bot logic.</span></span> <span data-ttu-id="d745b-262">웹 서비스는 App Service 또는 VM 클러스터에서 호스팅할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-262">The web service could be hosted in App Service or in a cluster of VMs.</span></span> <span data-ttu-id="d745b-263">[Azure Machine Learning][aml]은 모델 [ 학습](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/training) 및 [배포](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/deployment)에서 지원하는 다양한 서비스와 라이브러리를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-263">[Azure Machine Learning][aml] provides a number of services and libraries to assist you in [training](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/training) and [deploying](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/deployment) your models.</span></span>

## <a name="quality-assurance-and-enhancement"></a><span data-ttu-id="d745b-264">품질 보증 및 향상</span><span class="sxs-lookup"><span data-stu-id="d745b-264">Quality assurance and enhancement</span></span>

<span data-ttu-id="d745b-265">**로깅**</span><span class="sxs-lookup"><span data-stu-id="d745b-265">**Logging**.</span></span> <span data-ttu-id="d745b-266">기본 성능 메트릭 및 오류를 포함하여 봇과의 사용자 대화를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-266">Log user conversations with the bot, including the underlying performance metrics and any errors.</span></span> <span data-ttu-id="d745b-267">이러한 로그는 문제를 디버그하고, 사용자 상호 작용을 이해하고, 시스템을 향상시키는 데 매우 유용한 것으로 입증됩니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-267">These logs will prove invaluable for debugging issues, understanding user interactions, and improving the system.</span></span> <span data-ttu-id="d745b-268">서로 다른 데이터 저장소가 서로 다른 유형의 로그에 적합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-268">Different data stores might be appropriate for different types of logs.</span></span> <span data-ttu-id="d745b-269">예를 들어 웹 로그에는 Application Insights, 대화에는 Cosmos DB, 큰 페이로드에는 Azure Storage를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-269">For example, consider Application Insights for web logs, Cosmos DB for conversations, and Azure Storage for large payloads.</span></span> <span data-ttu-id="d745b-270">[Azure Storage에 직접 작성][transcript-storage]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d745b-270">See [Write directly to Azure Storage][transcript-storage].</span></span>

<span data-ttu-id="d745b-271">**피드백**.</span><span class="sxs-lookup"><span data-stu-id="d745b-271">**Feedback**.</span></span> <span data-ttu-id="d745b-272">사용자가 봇 상호 작용에 대한 자신의 만족도를 파악하는 것도 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-272">It's also important to understand how satisfied users are with their bot interactions.</span></span> <span data-ttu-id="d745b-273">사용자 피드백에 대한 기록이 있는 경우 이 데이터를 사용하여 특정 상호 작용을 향상시키고 성능 향상을 위해 AI 모델을 재학습하는 데 집중할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-273">If you have a record of user feedback, you can use this data to focus your efforts on improving certain interactions and retraining the AI models for improved performance.</span></span> <span data-ttu-id="d745b-274">피드백을 사용하여 시스템에서 LUIS와 같은 모델을 재학습합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-274">Use the feedback to retrain the models, such as LUIS, in your system.</span></span>

<span data-ttu-id="d745b-275">**테스트**.</span><span class="sxs-lookup"><span data-stu-id="d745b-275">**Testing**.</span></span> <span data-ttu-id="d745b-276">봇 테스트에는 단위 테스트, 통합 테스트, 재발 테스트 및 기능 테스트가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-276">Testing a bot involves unit tests, integration tests, regression tests, and functional tests.</span></span> <span data-ttu-id="d745b-277">테스트를 위해 Azure Search 또는 QnA Maker와 같은 외부 서비스의 실제 HTTP 응답을 기록하여 단위 테스트 중에 외부 서비스에 대한 실제 네트워크를 호출하지 않고도 재생할 수 있도록 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-277">For testing, we recommend recording real HTTP responses from external services, such as Azure Search or QnA Maker, so they can be played back during unit testing without needing to make real network calls to external services.</span></span>

>[!NOTE]
> <span data-ttu-id="d745b-278">개발을 이러한 영역에 연결하여 시작하려면 [JavaScript용 Botbuilder 유틸리티][git-repo-base]를 살펴보세요.</span><span class="sxs-lookup"><span data-stu-id="d745b-278">To jump-start your development in these areas, look at the [Botbuilder Utils for JavaScript][git-repo-base].</span></span> <span data-ttu-id="d745b-279">이 리포지토리에는 [Microsoft Bot Framework v4][bot-framework]를 사용하여 빌드하고 Node.js를 실행하는 봇용 유틸리티 코드 샘플이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-279">This repo contains sample utility code for bots built with [Microsoft Bot Framework v4][bot-framework] and running Node.js.</span></span> <span data-ttu-id="d745b-280">포함된 패키지는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-280">It includes the following packages:</span></span>
>
> - <span data-ttu-id="d745b-281">[Cosmos DB 로깅 저장소][cosmosdb-logger].</span><span class="sxs-lookup"><span data-stu-id="d745b-281">[Cosmos DB Logging Store][cosmosdb-logger].</span></span> <span data-ttu-id="d745b-282">Cosmos DB에서 봇 로그를 저장하고 쿼리하는 방법을 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-282">Shows how to store and query bot logs in Cosmos DB.</span></span>
> - <span data-ttu-id="d745b-283">[Application Insights 로깅 저장소][appinsights-logger].</span><span class="sxs-lookup"><span data-stu-id="d745b-283">[Application Insights Logging Store][appinsights-logger].</span></span> <span data-ttu-id="d745b-284">Application Insights에서 봇 로그를 저장하고 쿼리하는 방법을 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-284">Shows how to store and query bot logs in Application Insights.</span></span>
> - <span data-ttu-id="d745b-285">[피드백 컬렉션 미들웨어][feedback-util].</span><span class="sxs-lookup"><span data-stu-id="d745b-285">[Feedback Collection Middleware][feedback-util].</span></span> <span data-ttu-id="d745b-286">봇 사용자 피드백 요청 메커니즘을 제공하는 미들웨어 샘플입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-286">Sample middleware that provides a bot user feedback-request mechanism.</span></span>
> - <span data-ttu-id="d745b-287">[Http 테스트 레코더][testing util].</span><span class="sxs-lookup"><span data-stu-id="d745b-287">[Http Test Recorder][testing util].</span></span> <span data-ttu-id="d745b-288">외부 서비스에서 봇으로의 HTTP 트래픽을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-288">Records HTTP traffic from services external to the bot.</span></span> <span data-ttu-id="d745b-289">LUIS, Azure Search 및 QnAMaker에 대한 지원으로 미리 빌드되어 제공되지만, 모든 서비스를 지원하기 위해 확장을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-289">It comes pre-built with support for LUIS, Azure Search, and QnAMaker, but extensions are available to support any service.</span></span> <span data-ttu-id="d745b-290">봇 테스트를 자동화하는 데 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-290">This helps you automate bot testing.</span></span>
>
> <span data-ttu-id="d745b-291">이러한 패키지는 유틸리티 코드 샘플로 제공되며, 지원 또는 업데이트는 보장하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-291">These packages are provided as utility sample code, and come with no guarantee of support or updates.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="d745b-292">가용성 고려 사항</span><span class="sxs-lookup"><span data-stu-id="d745b-292">Availability considerations</span></span>

<span data-ttu-id="d745b-293">새로운 기능이나 버그 수정을 봇에 롤아웃하는 경우 준비 및 프로덕션과 같은 여러 배포 환경을 사용하는 것이 가장 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-293">As you roll out new features or bug fixes to your bot, it's best to use multiple deployment environments, such as staging and production.</span></span> <span data-ttu-id="d745b-294">[Azure DevOps][devops]의 배포 [슬롯][slots]을 사용하면 가동 중지 없이 이 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-294">Using deployment [slots][slots] from [Azure DevOps][devops] allows you to do this with zero downtime.</span></span> <span data-ttu-id="d745b-295">프로덕션 환경으로 전환하기 전에 준비 환경에서 최신 업그레이드를 테스트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-295">You can test your latest upgrades in the staging environment before swapping them to the production environment.</span></span> <span data-ttu-id="d745b-296">부하를 처리하는 측면에서 App Service는 수동 또는 자동으로 강화하거나 확장할 수 있도록 설계되었습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-296">In terms of handling load, App Service is designed to scale up or out manually or automatically.</span></span> <span data-ttu-id="d745b-297">봇이 Microsoft의 글로벌 데이터 센터 인프라에서 호스팅되므로 App Service SLA는 고가용성을 보장합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-297">Because your bot is hosted in Microsoft's global datacenter infrastructure, the App Service SLA promises high availability.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="d745b-298">보안 고려 사항</span><span class="sxs-lookup"><span data-stu-id="d745b-298">Security considerations</span></span>

<span data-ttu-id="d745b-299">다른 애플리케이션과 마찬가지로 봇은 중요한 데이터를 처리하도록 설계될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-299">As with any other application, the bot can be designed to handle sensitive data.</span></span> <span data-ttu-id="d745b-300">따라서 로그인할 수 있는 사용자와 봇을 사용할 수 있는 사용자를 제한합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-300">Therefore, restrict who can sign in and use the bot.</span></span> <span data-ttu-id="d745b-301">또한 사용자의 ID 또는 역할에 따라 액세스할 수 있는 데이터를 제한합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-301">Also limit which data can be accessed, based on the user's identity or role.</span></span> <span data-ttu-id="d745b-302">Azure AD를 사용하여 ID와 액세스를 제어하고, Key Vault를 사용하여 키와 비밀을 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-302">Use Azure AD for identity and access control and Key Vault to manage keys and secrets.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="d745b-303">관리 효율성 고려 사항</span><span class="sxs-lookup"><span data-stu-id="d745b-303">Manageability considerations</span></span>

### <a name="monitoring-and-reporting"></a><span data-ttu-id="d745b-304">모니터링 및 보고</span><span class="sxs-lookup"><span data-stu-id="d745b-304">Monitoring and reporting</span></span>

<span data-ttu-id="d745b-305">봇이 프로덕션 환경에서 실행되는 경우 이러한 방식으로 해당 봇을 유지하려면 DevOps 팀이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-305">Once your bot is running in production, you will need a DevOps team to keep it that way.</span></span> <span data-ttu-id="d745b-306">시스템을 지속적으로 모니터링하여 봇이 최고 성능으로 작동하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-306">Continually monitor the system to ensure the bot operates at peak performance.</span></span> <span data-ttu-id="d745b-307">Application Insights 또는 Cosmos DB에 보낸 로그를 사용하여 Application Insights 자체, Power BI 또는 사용자 지정 웹앱 대시보드를 사용하는 모니터링 대시보드를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-307">Use the logs sent to Application Insights or Cosmos DB to create monitoring dashboards, either using Application Insights itself, Power BI, or a custom web app dashboard.</span></span> <span data-ttu-id="d745b-308">심각한 오류가 발생하거나 성능이 허용되는 임계값 미만으로 떨어지는 DevOps 팀에 경고를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-308">Send alerts to the DevOps team if critical errors occur or performance falls below an acceptable threshold.</span></span>

### <a name="automated-resource-deployment"></a><span data-ttu-id="d745b-309">자동화된 리소스 배포</span><span class="sxs-lookup"><span data-stu-id="d745b-309">Automated resource deployment</span></span>

<span data-ttu-id="d745b-310">봇 자체는 최신 데이터를 제공하고 적절한 작동을 보장하는 더 큰 시스템의 일부일 뿐입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-310">The bot itself is only part of a larger system that provides it with the latest data and ensures its proper operation.</span></span> <span data-ttu-id="d745b-311">이러한 다른 모든 Azure 리소스(Data Factory와 같은 데이터 오케스트레이션 서비스, Cosmos DB와 같은 스토리지 서비스 등)를 모두 배포해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-311">All of these other Azure resources &mdash; data orchestration services such as Data Factory, storage services such as Cosmos DB, and so forth &mdash; must be deployed.</span></span> <span data-ttu-id="d745b-312">Azure Resource Manager는 Azure Portal, PowerShell 또는 Azure CLI를 통해 액세스할 수 있는 일관된 관리 계층을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-312">Azure Resource Manager provides a consistent management layer that you can access through the Azure portal, PowerShell, or the Azure CLI.</span></span> <span data-ttu-id="d745b-313">속도와 일관성을 위해 이러한 방법 중 하나를 사용하여 배포를 자동화하는 것이 가장 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-313">For speed and consistency, it's best to automate your deployment using one of these approaches.</span></span>

### <a name="continuous-bot-deployment"></a><span data-ttu-id="d745b-314">지속적인 봇 배포</span><span class="sxs-lookup"><span data-stu-id="d745b-314">Continuous bot deployment</span></span>

<span data-ttu-id="d745b-315">봇 논리는 IDE 또는 명령줄(예: Azure CLI)에서 직접 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-315">You can deploy the bot logic directly from your IDE or from a command line, such as the Azure CLI.</span></span> <span data-ttu-id="d745b-316">그러나 봇이 성장함에 따라 [지속적인 배포 설정](/azure/bot-service/bot-service-build-continuous-deployment) 문서에서 설명한 대로 Azure DevOps와 같은 CI/CD 솔루션을 사용하여 지속적인 배포 프로세스를 사용하는 것이 가장 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-316">As your bot matures, however, it's best to use a continual deployment process using a CI/CD solution such as Azure DevOps, as described in the article [Set up continuous deployment](/azure/bot-service/bot-service-build-continuous-deployment).</span></span> <span data-ttu-id="d745b-317">이는 가까운 프로덕션 환경에서 새로운 기능과 수정을 테스트할 때의 마찰을 완화할 수 있는 좋은 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-317">This is a good way to ease the friction in testing new features and fixes in your bot in a near-production environment.</span></span> <span data-ttu-id="d745b-318">또한 일반적으로 적어도 준비 및 프로덕션 환경과 같이 여러 배포 환경을 갖추는 것도 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-318">It's also a good idea to have multiple deployment environments, typically at least staging and production.</span></span> <span data-ttu-id="d745b-319">Azure DevOps는 이 방법을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="d745b-319">Azure DevOps supports this approach.</span></span>

<!-- links -->

[0]: ./_images/conversational-bot.png
[aad]: /azure/active-directory/
[활동]: /azure/bot-service/rest-api/bot-framework-rest-connector-activities
[activities]: /azure/bot-service/rest-api/bot-framework-rest-connector-activities
[aml]: /azure/machine-learning/service/
[app-insights]: /azure/azure-monitor/app/app-insights-overview
[app-service]: /azure/app-service/
[blob]: /azure/storage/blobs/storage-blobs-introduction
[bot-authentication]: /azure/bot-service/bot-builder-authentication
[bot-framework]: https://dev.botframework.com/
[bot-framework-service]: /azure/bot-service/bot-builder-basics
[cognitive-services]: /azure/cognitive-services/welcome
[변환]: /azure/bot-service/bot-service-design-conversation-flow
[conversations]: /azure/bot-service/bot-service-design-conversation-flow
[cosmosdb]: /azure/cosmos-db/
[data-factory]: /azure/data-factory/
[data-factory-ref-arch]: ../data/enterprise-bi-adf.md
[devops]: https://azure.microsoft.com/solutions/devops/
[functions]: /azure/azure-functions/
[functions-triggers]: /azure/azure-functions/functions-triggers-bindings
[git-repo-appinsights-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-app-insights
[git-repo-base]: https://github.com/Microsoft/botbuilder-utils-js
[git-repo-cosmosdb-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-cosmosdb
[git-repo-feedback-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-feedback
[git-repo-testing-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder
[testing-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder
[key-vault]: /azure/key-vault/
[lda]: https://wikipedia.org/wiki/Latent_Dirichlet_allocation/
[logic-apps]: /azure/logic-apps/logic-apps-overview
[luis]: /azure/cognitive-services/luis/
[power-bi]: /power-bi/
[qna-maker]: /azure/cognitive-services/QnAMaker/
[search]: /azure/search/
[slots]: /azure/app-service/deploy-staging-slots/
[synonyms]: /azure/search/search-synonyms
[transcript-storage]: /azure/bot-service/bot-builder-howto-v4-storage
[턴]: /azure/bot-service/bot-builder-basics#defining-a-turn
[turns]: /azure/bot-service/bot-builder-basics#defining-a-turn
[vscode]: https://azure.microsoft.com/products/visual-studio-code/
[webapp]: /azure/app-service/overview
[webchat]: /azure/bot-service/bot-service-channel-connect-webchat?view=azure-bot-service-4.0/

[cosmosdb-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-cosmosdb
[appinsights-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-app-insights
[feedback-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-feedback
[testing util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder

